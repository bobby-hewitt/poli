(window["webpackJsonpweb-pa"]=window["webpackJsonpweb-pa"]||[]).push([[0],Array(18).concat([function(e,t,n){e.exports=n.p+"static/media/govt.c702dc1e.svg"},,,,,,,,,,,function(e,t){},function(e,t,n){e.exports=n.p+"static/media/trash.58deec55.svg"},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){e.exports=n(94)},,,,,function(e,t,n){},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/members.dece2b40.svg"},function(e,t,n){e.exports=n.p+"static/media/social.4add1a52.svg"},function(e,t,n){e.exports=n.p+"static/media/news.d31bc934.svg"},function(e,t,n){e.exports=n.p+"static/media/post.13e1259d.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/arrow.6a1af9a1.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/edit.7d394fbb.svg"},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/add.d498c470.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),o=n.n(c),l=(n(44),n(19)),i=n(3),u=Object(a.createContext)({}),m=u.Provider,s=u,d=n(10),p=(n(55),{Conservative:"0087dc","Liberal Democrat":"FDBB30",Labour:"d50000","Plaid Cymru":"3F8428","Green Party":"008066","UK Independence Party":"B3009D","Scottish National Party":"FFF95D","Social Democratic & Labour Party":"2AA82C",Alliance:"F6CB2F","Democratic Unionist Party":"D46A4C"}),f=(n(56),function(e){var t=e.type,n=e.isVoid,c=e.meta,o=e.item,l=e.children,i=Object(a.useContext)(s);return n?r.a.createElement("div",null,l):r.a.createElement("div",{className:"DraggableTestContainer",draggable:"true",onMouseDown:function(){return i.onDragMouseDown()},onMouseUp:function(){return i.onDragMouseUp()},onDragEnd:function(){return i.onDragEnd()},onDragStart:function(){return i.onDragStart({type:t,item:o,meta:c})}},l)}),b=function(e){return r.a.createElement("div",{className:"VoteOuterContainer",onClick:function(){return e.onClick(e.index,e.DivisionId)}},r.a.createElement(f,Object.assign({type:"vote",item:e.item},{isVoid:e.draggableMembers}),r.a.createElement("div",{className:"VoteContainer"},r.a.createElement("p",{className:"title"},e.Title),r.a.createElement("p",{className:"date"},(t=e.Date,new Date(t).toUTCString())),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"For ",r.a.createElement("span",null,"(",e.AyeCount,")")),r.a.createElement("div",{className:"row"},e.Ayes&&e.Ayes.map((function(e,t){return r.a.createElement("div",{key:t,className:"teller",style:{backgroundColor:"#"+p[e.PartyName]+"44"}},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))}))),e.AyeMembers&&e.AyeMembers.map((function(e,t){return r.a.createElement("div",{key:t,className:"memberVoteOverview"},r.a.createElement(f,{type:"member",item:e.MemberId,meta:{supporter:!0}},r.a.createElement("div",null,r.a.createElement("p",{className:"memberName"},e.Name),r.a.createElement("p",null,e.Party))))}))),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"Against ",r.a.createElement("span",null,"(",e.NoCount,")")),r.a.createElement("div",{className:"row"},e.Noes&&e.Noes.map((function(e,t){return r.a.createElement("div",{key:t,className:"teller",style:{backgroundColor:"#"+p[e.PartyName]+"44"}},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))}))),e.NoeMembers&&e.NoeMembers.map((function(e,t){return r.a.createElement("div",{key:t,className:"memberVoteOverview"},r.a.createElement(f,{type:"member",item:e.MemberId,meta:{supporter:!1}},r.a.createElement("div",null,r.a.createElement("p",{className:"memberName"},e.Name),r.a.createElement("p",null,e.Party))))}))))));var t},v=(n(57),n(58),[{label:"Govt",route:"/govt",icon:n(18),submenu:[{label:"Departments",icon:n(18),route:"/departments"},{label:"Parties",icon:n(18),route:"/parties"},{label:"Votes",icon:n(18),route:"/govt"}]},{label:"People",route:"/people",icon:n(59)},{label:"Social",route:"/",icon:n(60)},{label:"News",route:"/news",icon:n(61)},{label:"Posts",route:"/posts",icon:n(62)}]),g=function(){var e=Object(a.useState)(window.location.pathname),t=Object(i.a)(e,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"MenuPlaceholder"}),r.a.createElement("div",{className:"MenuContainer"},v&&v.map((function(e,t){return r.a.createElement("div",{key:t,className:"MenuItemContainer ".concat(e.route===n&&"isSelected"),onClick:function(){c(e.route),Object(d.navigate)(e.route)}},r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:e.icon}),r.a.createElement("p",null,e.label)),e.submenu&&r.a.createElement("div",{className:"subMenuOuterContainer"},r.a.createElement("div",{className:"submenu"},e.submenu.map((function(e,a){return r.a.createElement("div",{key:"".concat(t).concat(a),className:"SubMenuItemContainer ".concat(e.route===n&&"isSelected"),onClick:function(t){t.stopPropagation(),c(e.route),Object(d.navigate)(e.route)}},r.a.createElement("div",{className:"subimageContainer"},r.a.createElement("img",{src:e.icon}),r.a.createElement("p",null,e.label)))})))))}))))},E=(n(63),n(64),n(65),n(66),function(e){var t=e.nameDisplayAs,n=e.thumbnailUrl,a=e.supporter,c=e.latestParty;return r.a.createElement("div",{className:"memberContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(n,")")}}),r.a.createElement("p",null,t),r.a.createElement("p",null,c.name),r.a.createElement("p",null,!0===a||!1===a?a?"Voted for":"Voted against":""))}),O=(n(67),function(e){var t=e.url,n=e.height,a=e.width;return r.a.createElement("div",{className:"imageCompOuter",style:{height:n,width:a}},r.a.createElement("div",{className:"imageComp",style:{backgroundImage:"url(".concat(t,")")}}))}),j=(n(68),n(69),function(e){var t=e.value,a=e.onChange,c=e.onSubmit,o=e.placeholder;return r.a.createElement("div",{className:"inputOuterContainer"},r.a.createElement("div",{className:"inputContainer"},r.a.createElement("input",{type:"text",value:t,onChange:a,placeholder:o,onKeyDown:function(e){13===e.keyCode&&c()}}),r.a.createElement("div",{className:"submit",onClick:function(){return c()}},r.a.createElement("img",{src:n(70)}))))}),C=(n(71),function(e){var t=e.onClick,n=e.name,a=e.index,c=e.text,o=e.isSelected;return r.a.createElement("div",{className:"TrendContainer ".concat(o&&"isSelected"),onClick:function(){return t(a)}},r.a.createElement("p",null,n||c))}),y=(n(72),function(e){var t=e.text,n=(e.created_at,e.user),a=e.item,c=n.profile_image_url_https,o=n.screen_name,l=n.name;return r.a.createElement("div",{className:"tweetOuterContainer"},r.a.createElement(f,{type:"tweet",item:a},r.a.createElement("div",{className:"TweetContainer"},r.a.createElement("div",{className:"userContainer"},r.a.createElement("img",{src:c}),r.a.createElement("div",{className:"userMetaContainer"},r.a.createElement("p",{className:"userName"},l),r.a.createElement("p",{className:"userScreenName"},"@",o))),r.a.createElement("p",null,t))))}),I=(n(73),function(e){var t=e.onChange,n=e.value,a=e.placeholder;return r.a.createElement("div",null,r.a.createElement("label",null,a),r.a.createElement("input",{className:"textInput",onChange:t,value:n}))}),h=(n(74),function(e){var t=e.children;e.onCancel,e.onSave,e.onDelete;return r.a.createElement("div",{className:"editModalOuter"},r.a.createElement("div",{className:"editModalInner",onClick:function(){}},t))}),N=(n(75),function(e){var t=e.secondary,n=e.tirshary,a=e.label,c=e.warning,o=e.onClick,l=e.style;return r.a.createElement("div",{style:l||{},className:"ButtonContainer ".concat(t&&"secondary"," ").concat(n&&"tirshary"," ").concat(c&&"warning"),onClick:o},r.a.createElement("p",null,a))}),w=(n(76),n(5)),S=n(7),k=n(6),D=n.n(k);function P(){var e=Object(S.a)(["\n  mutation DeletePerson($personId: ID!) {\n    DeletePerson(personId: $personId) {\n      personId\n    }\n  }\n"]);return P=function(){return e},e}function $(){var e=Object(S.a)(["\n  mutation UpdatePerson($name: String!, $id: ID!, $jobTitle: String!, $twitter: String!, $image:String!) {\n    UpdatePerson(name: $name, personId: $id, jobTitle:$jobTitle, twitter:$twitter, image:$image) {\n      name\n      personId  \n      jobTitle\n      twitter\n      image\n    }\n  }\n"]);return $=function(){return e},e}function x(){var e=Object(S.a)(["\n  mutation CreatePerson($name: String!,  $id:ID!, $jobTitle: String!, $twitter: String!, $image:String!) {\n    CreatePerson(name: $name, personId: $id, jobTitle:$jobTitle, twitter:$twitter, image:$image) {\n      name\n      personId\n      jobTitle\n      twitter\n      image\n      \n    }\n  }\n"]);return x=function(){return e},e}function A(){var e=Object(S.a)(["\n  mutation AddPersonParty($personId: ID!, $partyId:ID!) {\n    AddPersonParty(from:{personId:$personId}, to:{partyId: $partyId} ){\n      from{\n        personId\n      }\n      to{\n        partyId\n      }\n\n    }\n  }\n"]);return A=function(){return e},e}function T(){var e=Object(S.a)(["\n{\n  Party {\n    name\n    partyId\n    color\n    logo\n  }\n}"]);return T=function(){return e},e}function L(){var e=Object(S.a)(["\n  mutation AddPersonPDepartments($personId: ID!, $departmentId:ID!) {\n    AddPersonDepartments(from:{personId:$personId}, to:{departmentId: $departmentId} ){\n    \tfrom{\n    \t\tpersonId\n    \t}\n    \tto{\n    \t\tdepartmentId\n    \t}\n\n    }\n  }\n"]);return L=function(){return e},e}function M(){var e=Object(S.a)(["\n{\n  Department {\n    name\n    departmentId\n  }\n}"]);return M=function(){return e},e}var U=D()(M()),V=D()(L()),F=D()(T()),B=D()(A()),R=D()(x()),J=D()($()),W=D()(P()),Q=function(e){var t=e.title,n=e.personId,c=e.onComplete,o=Object(a.useContext)(s),l=Object(w.b)(F),u=l.loading,m=l.error,d=l.data,p=(l.refetch,Object(w.a)(B)),f=Object(i.a)(p,1)[0];return m?r.a.createElement("p",null,"Error"):u?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"chooseItemContainer"},r.a.createElement("p",{className:"title"},t),d&&d.Party&&d.Party.map((function(e,t){return r.a.createElement(_,{key:t},r.a.createElement("div",{onClick:function(){return function(e){o.makeQuery(f,{variables:{partyId:e.partyId,personId:n}}).then((function(e){c()}))}(e)}},r.a.createElement("p",null,e.name)))})))},q=(n(79),function(e){var t=e.title,n=e.personId,c=e.onComplete,o=Object(a.useContext)(s),l=Object(w.b)(U),u=l.loading,m=l.error,d=l.data,p=(l.refetch,Object(w.a)(V)),f=Object(i.a)(p,1)[0];return m?r.a.createElement("p",null,"Error"):u?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"chooseItemContainer"},r.a.createElement("p",{className:"title"},t),d&&d.Department&&d.Department.map((function(e,t){return r.a.createElement(_,null,r.a.createElement("div",{onClick:function(){return function(e){o.makeQuery(f,{variables:{departmentId:e.departmentId,personId:n}}).then((function(){c()}))}(e)}},r.a.createElement("p",null,e.name)))})))}),_=(n(80),function(e){var t=e.children,a=e.onEdit,c=e.onClick;return r.a.createElement("div",{className:"rowItem",onClick:c},t,a&&r.a.createElement("div",{className:"editContainer",onClick:function(e){e.stopPropagation(),a()}},r.a.createElement("img",{src:n(81)})))}),G=(n(82),function(e){var t=e.title,a=e.onAdd;return r.a.createElement("div",{className:"sectionTitleContainer"},r.a.createElement("p",null,t),a&&r.a.createElement("div",{className:"addButtonContainer",onClick:a},r.a.createElement("img",{src:n(83)})))}),K=(n(29),n(84),function(e){var t=e.children;return r.a.createElement("div",{className:"railContainer"},t)}),H=n(8),Y=n.n(H),X=(n(85),function(){var e=Object(a.useContext)(s),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),m=u[0],d=u[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),b=f[0],v=f[1];function g(e){return new Date(e).toUTCString()}return Object(a.useEffect)((function(){return console.log("getting news"),Y.a.get("".concat(e.host,"/news"),(function(e){o(e.articles)})),function(){}}),[]),r.a.createElement("div",{className:"newsContainer ".concat(b&&"isSelected")},r.a.createElement(j,{onSubmit:function(){Y.a.get("".concat(e.host,"/news?s=").concat(m),(function(e){o(e.articles)}))},placeholder:"Search keyword",onChange:function(e){return d(e.target.value)},value:m}),r.a.createElement("div",{className:"newsInnerContainer"},c&&c.map((function(e,t){return r.a.createElement("div",{className:"newsArticle",onClick:function(){console.log("selecting item",e),v(e)}},r.a.createElement("div",{className:"newsArticleInner"},r.a.createElement("div",{className:"imageOuterContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(e.urlToImage,")")}})),r.a.createElement("p",{className:"title"},e.title),r.a.createElement("p",{className:"description"},e.description),r.a.createElement("p",{className:"source"},e.source.name),r.a.createElement("p",{className:"publishedDate"},g(e.publishedAt))))}))),b&&r.a.createElement("div",{className:"selectedArticle"},r.a.createElement("div",{className:"newsArticle",onClick:function(){return v(!1)}},r.a.createElement("div",{className:"newsArticleInner"},r.a.createElement("div",{className:"imageOuterContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(b.urlToImage,")")}})),r.a.createElement("p",{className:"title"},b.title),r.a.createElement("p",{className:"description"},b.description),r.a.createElement("p",{className:"description"},b.content),r.a.createElement("p",{className:"source"},b.source.name),r.a.createElement("p",{className:"publishedDate"},g(b.publishedAt))))))}),z=function(e){var t=Object(a.useContext)(s),n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1];function f(e,n){var a=Object.assign({},o[e]);Y.a.get("".concat(t.host,"/division?id=").concat(n),(function(e){a.AyeMembers=e.Ayes,a.NoeMembers=e.Noes,p(a)}))}return Object(a.useEffect)((function(){return Y.a.get("".concat(t.host,"/divisions"),(function(e){console.log("got divisions",e),l(e&&e.reverse())})),function(){}}),[]),r.a.createElement("div",{className:"ParliamentContainer"},r.a.createElement(G,{title:"Recent votes"}),!d&&o&&o.map((function(e,t){return r.a.createElement(b,Object.assign({item:e,index:t,key:t},e,{onClick:f}))})),d&&r.a.createElement("div",null,console.log(d),r.a.createElement(b,Object.assign({draggableMembers:!0,item:d},d,{onClick:function(){}}))))},Z=(n(86),function(){var e=Object(a.useContext)(s),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),m=u[0],d=u[1];return Object(a.useEffect)((function(){return function(){}}),[]),r.a.createElement("div",{className:"membersContainer "},r.a.createElement(j,{onSubmit:function(){Y.a.get("".concat(e.host,"/member?name=").concat(m),(function(e){console.log("got members",e),o(e.items)}))},placeholder:"Search member name",onChange:function(e){return d(e.target.value)},value:m}),r.a.createElement("div",{className:"membersInnerContainer"},c&&c.map((function(e,t){return r.a.createElement(f,{type:"member",item:e.value.id},r.a.createElement(E,Object.assign({},e.value,{key:t})))}))))}),ee=[{name:"London",id:44418},{name:"New York",id:2459115},{name:"Los Angeles",id:2442047},{name:"Washington DC",id:2514590},{name:"Berlin",id:638243},{name:"Madrid",id:766273},{name:"Rome",id:721943},{name:"Paris",id:615702},{name:"Moscow",id:2122265},{name:"Istanbul",id:2344116},{name:"Warsaw",id:523920},{name:"Vienna",id:551801},{name:"Prague",id:796597}],te=(n(87),function(e){var t=Object(a.useContext)(s),n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1],f=Object(a.useState)(!1),b=Object(i.a)(f,2),v=b[0],g=b[1],E=Object(a.useState)(""),O=Object(i.a)(E,2),I=O[0],h=O[1],N=Object(a.useState)(!1),w=Object(i.a)(N,2),S=w[0],k=w[1];function D(e){p(e),Y.a.get("".concat(t.host,"/twittersearch?s=").concat(o[e].name.replace("#","")),(function(e){console.log(e),k(e)}))}function P(e){console.log("setting ",e,ee[e]),g(e),p(!1),Y.a.get("".concat(t.host,"/twittertrends?s=").concat(ee[e].id),(function(e){l(e)}))}return Object(a.useEffect)((function(){return function(){}}),[]),r.a.createElement("div",{className:"SocialContainer"},r.a.createElement(j,{onSubmit:function(){Y.a.get("".concat(t.host,"/twittersearch?s=").concat(I),(function(e){g(!1),p(!1),k(e)}))},placeholder:"Search keyword",onChange:function(e){return h(e.target.value)},value:I}),r.a.createElement("div",{className:"PlacesContainer"},ee&&ee.map((function(e,t){return r.a.createElement(C,Object.assign({isSelected:t===v,index:t,key:t},e,{onClick:P}))}))),r.a.createElement("div",{className:"TrendsContainer"},(v||0===v)&&o&&o.map((function(e,t){return r.a.createElement(C,Object.assign({isSelected:t===d,index:t,key:t},e,{onClick:D}))}))),r.a.createElement("div",{className:"TweetsContainer"},S&&S.map((function(e,t){return r.a.createElement(y,Object.assign({item:e,isSelected:t===d,index:t,key:t},e,{onClick:D}))}))))}),ne=(n(88),function(e){var t=Object(a.useContext)(s),n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1];return Object(a.useEffect)((function(){return Y.a.get("".concat(t.host,"/photos"),(function(e){l(JSON.parse(e))})),function(){}}),[]),r.a.createElement("div",{className:"ImagesContainer"},r.a.createElement(j,{onSubmit:function(){Y.a.get("".concat(t.host,"/photos?s=").concat(d),(function(e){console.log("res",JSON.parse(e)),l(JSON.parse(e).results)}))},placeholder:"Search keyword",onChange:function(e){return p(e.target.value)},value:d}),o&&o.map((function(e,t){return r.a.createElement("div",{className:"imageOuterContainerHalf"},r.a.createElement(f,{type:"image",item:e.urls},r.a.createElement(O,{url:e.urls.regular,key:t})))})))}),ae=function(e){var t=Object(a.useContext)(s),n=Object(a.useState)("e149xb"),c=Object(i.a)(n,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"homeContainer"},r.a.createElement("input",{value:o,onChange:function(e){return l(e.target.value.replace(/\s/g,"").toUpperCase())}}),r.a.createElement("div",{onClick:function(){Y.a.get("".concat(t.host,"/postcode?postcode=").concat(o),(function(e){console.log(e)}))}},"Submit"))};function re(){var e=Object(S.a)(["\n  mutation DeleteDepartment($departmentId: ID!) {\n    DeleteDepartment(departmentId: $departmentId) {\n      departmentId\n    }\n  }\n"]);return re=function(){return e},e}function ce(){var e=Object(S.a)(["\n  mutation UpdateDepartment($departmentId: ID!, $name: String!) {\n    UpdateDepartment(departmentId: $departmentId, name: $name) {\n      departmentId\n      name\n    }\n  }\n"]);return ce=function(){return e},e}function oe(){var e=Object(S.a)(["\n  mutation CreateDepartment($name: String!) {\n    CreateDepartment(name: $name) {\n      name\n    }\n  }\n"]);return oe=function(){return e},e}var le=D()(oe()),ie=D()(ce()),ue=D()(re());function me(e){var t=Object(w.a)(le),n=Object(i.a)(t,1)[0],c=Object(w.a)(ie),o=Object(i.a)(c,1)[0],l=Object(w.a)(ue),u=Object(i.a)(l,1)[0],m=Object(a.useState)(e.name||""),s=Object(i.a)(m,2),d=s[0],p=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{onChange:function(e){return p(e.target.value)},value:d,placeholder:"Name"}),r.a.createElement("div",{className:"actionContainer"},r.a.createElement(N,{style:{marginLeft:"4px"},label:"Save",onClick:function(){console.log(e),e.departmentId?o({variables:{departmentId:e.departmentId,name:d}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()})):n({variables:{name:d}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}}),r.a.createElement(N,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:e.onCancel}),r.a.createElement(N,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){u({variables:{departmentId:e.departmentId}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}})))}n(89);function se(){var e=Object(S.a)(["\n{\n  Department {\n    name\n    departmentId\n  }\n}"]);return se=function(){return e},e}var de=D()(se());function pe(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(w.b)(de),l=o.loading,u=o.error,m=o.data,s=o.refetch;return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(G,{title:"Government departments",onAdd:function(){return c(!0)}}),m&&m.Department&&m.Department.map((function(e,t){return r.a.createElement(_,{onEdit:function(){return c(e)},onClick:function(){return Object(d.navigate)("department/".concat(e.departmentId))}},r.a.createElement("p",{className:"departmentTitle"},e.name))})),n&&r.a.createElement(h,null,r.a.createElement(me,Object.assign({},n,{onCancel:function(){c(!1),s().then((function(e){}))}}))))}var fe=function(e){console.log(e);try{return console.log("converting",e),JSON.parse(e)}catch(t){return!1}};n(90);function be(){var e=Object(S.a)(["\n  query Department($departmentId: ID!) {\n    Department(departmentId: $departmentId) {\n      departmentId\n      name\n      people{\n        name\n        personId\n        twitter\n        tweets\n      }\n    }\n  }\n"]);return be=function(){return e},e}var ve=D()(be());function ge(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=(n[0],n[1],Object(w.b)(ve,{variables:{departmentId:e.id}})),o=c.loading,l=c.error,u=c.data;c.refetch;if(l)return r.a.createElement("p",null,"Error");if(o)return r.a.createElement("p",null,"Loading");var m=u.Department[0],s=m.name,p=m.people;m.departmentId;return console.log("got department data",u),r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(G,{title:s}),p&&p.map((function(e,t){var n=fe(e.tweets);return r.a.createElement(_,{onClick:function(){return Object(d.navigate)("/person/".concat(e.personId))}},r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"marginBottom"},e.name),r.a.createElement(K,null,n&&n.map((function(e,t){return r.a.createElement(y,Object.assign({},e,{key:t}))})))))})))}n(91);function Ee(){var e=Object(S.a)(["\n  query Party($partyId: ID!) {\n    Party(partyId: $partyId) {\n     partyId\n      name\n      members{\n        name\n        personId\n      }\n    }\n  }\n"]);return Ee=function(){return e},e}var Oe=D()(Ee());function je(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=(n[0],n[1],Object(w.b)(Oe,{variables:{partyId:e.id}})),o=c.loading,l=c.error,u=c.data;c.refetch;if(l)return r.a.createElement("p",null,"Error");if(o)return r.a.createElement("p",null,"Loading");if(u&&u.Party&&u.Party[0]){var m=u.Party[0],s=m.name,p=(m.departmentId,m.members);return console.log("got party data",u),r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(G,{title:s}),p&&p.map((function(e,t){return r.a.createElement(_,{onClick:function(){return Object(d.navigate)("/person/".concat(e.personId))}},r.a.createElement("div",null,e.name))})))}return r.a.createElement("div",null)}function Ce(){var e=Object(S.a)(["\n  mutation DeleteParty($partyId: ID!) {\n    DeleteParty(partyId: $partyId) {\n      partyId\n    }\n  }\n"]);return Ce=function(){return e},e}function ye(){var e=Object(S.a)(["\n  mutation UpdateParty($partyId: ID!, $name: String!,$color:String!, $logo:String!) {\n    UpdateParty(partyId: $partyId, name: $name, color:$color, logo: $logo) {\n      partyId\n      name\n      color\n      logo\n    }\n  }\n"]);return ye=function(){return e},e}function Ie(){var e=Object(S.a)(["\n  mutation CreateParty($name: String!, $color:String!, $logo:String, $partyId:ID!) {\n    CreateParty(name: $name, color:$color, logo: $logo, partyId: $partyId) {\n      name\n      color\n      logo\n      partyId\n    }\n  }\n"]);return Ie=function(){return e},e}var he=D()(Ie()),Ne=D()(ye()),we=D()(Ce());function Se(e){var t=Object(w.a)(he),n=Object(i.a)(t,1)[0],c=Object(w.a)(Ne),o=Object(i.a)(c,1)[0],u=Object(w.a)(we),m=Object(i.a)(u,1)[0],s=Object(a.useState)(e.name||""),d=Object(i.a)(s,2),p=d[0],f=d[1],b=Object(a.useState)(e.color||""),v=Object(i.a)(b,2),g=v[0],E=v[1],O=Object(a.useState)(e.logo||""),j=Object(i.a)(O,2),C=j[0],y=j[1],h=Object(a.useState)(e.partyId||""),S=Object(i.a)(h,2),k=S[0],D=S[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{onChange:function(e){return f(e.target.value)},value:p,placeholder:"Name"}),r.a.createElement(I,{onChange:function(e){return E(e.target.value)},value:g,placeholder:"Color"}),r.a.createElement(I,{onChange:function(e){return y(e.target.value)},value:C,placeholder:"Logo"}),r.a.createElement(I,{onChange:function(e){return D(e.target.value)},value:k,placeholder:"Logo"}),r.a.createElement("div",{className:"actionContainer"},r.a.createElement(N,{style:{marginLeft:"4px"},label:"Save",onClick:function(){e.partyId?(console.log("updating party"),o({variables:Object(l.a)({partyId:e.partyId,name:p,color:g,logo:C},"partyId",k)}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))):n({variables:{name:p,color:g,logo:C,partyId:k}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}}),r.a.createElement(N,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:e.onCancel}),r.a.createElement(N,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){m({variables:{partyId:e.partyId}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}})))}n(92);function ke(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(w.b)(F),l=o.loading,u=o.error,m=o.data,s=o.refetch;return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(G,{title:"Political parties",onAdd:function(){return c(!0)}}),m&&m.Party&&m.Party.map((function(e,t){return r.a.createElement(_,{key:t,onEdit:function(){return c(e)},onClick:function(){return Object(d.navigate)("party/".concat(e.partyId))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"logo",style:e.logo?{backgroundImage:"url(".concat(e.logo,")")}:{background:"#f2f2f2"}}),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,e.name),r.a.createElement("div",{className:"partyColor",style:{backgroundColor:e.color}}))))})),n&&r.a.createElement(h,null,r.a.createElement(Se,Object.assign({},n,{onCancel:function(){c(!1),s().then((function(e){}))}}))))}n(93);function De(){var e=Object(S.a)(["\n  mutation RemovePersonDepartments($personId: ID!, $departmentId:ID!) {\n    RemovePersonDepartments(from:{personId:$personId}, to:{departmentId: $departmentId} ){\n      from{\n        personId\n      }\n      to{\n        departmentId\n      }\n\n    }\n  }\n"]);return De=function(){return e},e}function Pe(){var e=Object(S.a)(["\n  mutation RemovePersonParty($personId: ID!, $partyId:ID!) {\n    RemovePersonParty(from:{personId:$personId}, to:{partyId: $partyId} ){\n      from{\n        personId\n      }\n      to{\n        partyId\n      }\n\n    }\n  }\n"]);return Pe=function(){return e},e}function $e(){var e=Object(S.a)(["\n  query Person($personId: ID!) {\n    Person(personId: $personId) {\n      personId\n      name\n      party{\n        name\n        partyId\n      }\n      twitter\n      tweets\n      departments{\n        name\n        departmentId\n      }\n      image\n\n    }\n  }\n"]);return $e=function(){return e},e}var xe=D()($e()),Ae=D()(Pe()),Te=D()(De());function Le(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),o=(c[0],c[1],Object(w.a)(Ae)),l=Object(i.a)(o,1)[0],u=Object(w.a)(Te),m=Object(i.a)(u,1)[0],s=Object(a.useState)(!1),p=Object(i.a)(s,2),f=(p[0],p[1],Object(w.b)(xe,{variables:{personId:e.id}})),b=f.loading,v=f.error,g=f.data,E=f.refetch;if(v)return r.a.createElement("p",null,"Error");if(b)return r.a.createElement("p",null,"Loading");if(g&&g.Person&&g.Person[0]){var O=g.Person[0],j=O.name,C=O.departments,I=O.party,h=O.personId,N=O.tweets;return N=fe(N),console.log("tweets",N),r.a.createElement("div",{className:"PersonContainer"},r.a.createElement(G,{title:j}),r.a.createElement(K,null,N&&N.map((function(e,t){return r.a.createElement(y,Object.assign({},e,{key:t}))}))),I&&r.a.createElement(_,null,r.a.createElement("div",{onClick:function(){return Object(d.navigate)("/party/".concat(I.partyId))}},r.a.createElement("p",null,I.name)),r.a.createElement("div",{className:"remove",onClick:function(){return function(e,t){l({variables:{partyId:e,personId:t}}).then((function(){E()}))}(I.partyId,h)}},r.a.createElement("img",{src:n(30)}))),!I&&r.a.createElement(Q,{title:"Add party membership",onComplete:function(){return E()},personId:h}),C&&C.map((function(e,t){return r.a.createElement(_,{key:t},r.a.createElement("div",{onClick:function(){return Object(d.navigate)("/department/".concat(e.departmentId))}},r.a.createElement("p",null,e.name)),r.a.createElement("div",{className:"remove",onClick:function(){return function(e,t){console.log("removing",e,t),m({variables:{departmentId:e,personId:t}}).then((function(){E()}))}(e.departmentId,h)}},r.a.createElement("img",{src:n(30)})))})),r.a.createElement(q,{title:"Add department",onComplete:function(){return E()},personId:h}))}return console.log("no data",g),r.a.createElement("div",null)}var Me;n(31);function Ue(e){var t=Object(a.useContext)(s),n=Object(a.useState)([]),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(w.a)(R),m=Object(i.a)(u,1)[0],d=Object(w.a)(J),p=Object(i.a)(d,1)[0],f=Object(w.a)(W),b=Object(i.a)(f,1)[0],v=Object(w.a)(B),g=Object(i.a)(v,1)[0],E=Object(a.useState)(e.name||""),O=Object(i.a)(E,2),j=O[0],C=O[1],y=Object(a.useState)(e.image||""),h=Object(i.a)(y,2),S=h[0],k=h[1],D=Object(a.useState)(e.twitter||""),P=Object(i.a)(D,2),$=P[0],x=P[1],A=Object(a.useState)(e.jobTitle||""),T=Object(i.a)(A,2),L=T[0],M=T[1],U=Object(a.useState)(e.party||""),V=Object(i.a)(U,2),F=V[0],Q=V[1],q=Object(a.useState)(e.personId||""),_=Object(i.a)(q,2),G=_[0],K=_[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"searchPeople"},r.a.createElement(I,{onChange:function(e){return n=e.target.value,window.clearTimeout(Me),void(Me=setTimeout((function(){Y.a.get("".concat(t.host,"/member?name=").concat(n),(function(e){l(e.items)}))}),500));var n},placeholder:"Search member"}),r.a.createElement("div",{className:"searchPeopleContainer"},o&&o.map((function(e,t){return r.a.createElement("div",{className:"searchPersonContainer",onClick:function(){return C((t=e).value.nameDisplayAs),k(t.value.thumbnailUrl),K(t.value.id),void Q(t.value.latestParty.id);var t}},r.a.createElement("div",{key:t,className:"searchPersonImageContainer",style:{backgroundImage:"url(".concat(e.value.thumbnailUrl,")")}}),r.a.createElement("p",null,e.value.nameDisplayAs))})))),r.a.createElement(I,{onChange:function(e){return C(e.target.value)},value:j,placeholder:"Name"}),r.a.createElement(I,{onChange:function(e){return Q(e.target.value)},value:F,placeholder:"Party"}),r.a.createElement(I,{onChange:function(e){return x(e.target.value)},value:$,placeholder:"Twitter"}),r.a.createElement(I,{onChange:function(e){return M(e.target.value)},value:L,placeholder:"Job (If not politician)"}),r.a.createElement(I,{onChange:function(e){return k(e.target.value)},value:S,placeholder:"Image"}),r.a.createElement(I,{onChange:function(e){return K(e.target.value)},value:G,placeholder:"Id"}),r.a.createElement("div",{className:"actionContainer"},r.a.createElement(N,{style:{marginLeft:"4px"},label:"Save",onClick:function(){e.personId?p({variables:{name:j,party:F,id:G,jobTitle:L,twitter:$,image:S}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()})):t.makeQuery(m,{variables:{name:j,id:G,jobTitle:L,twitter:$,image:S}}).then((function(){(F||0===F)&&t.makeQuery(g,{variables:{partyId:F,personId:G}}).then((function(){})),e.onCancel()})).catch((function(t){return e.onCancel()}))}}),r.a.createElement(N,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:e.onCancel}),r.a.createElement(N,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){b({variables:{personId:e.personId}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}})))}function Ve(){var e=Object(S.a)(["\n{\n  Person{\n    personId\n    name\n    jobTitle\n    image\n    twitter\n    \n  }\n}"]);return Ve=function(){return e},e}var Fe=D()(Ve());function Be(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(w.b)(Fe),l=o.loading,u=o.error,m=o.data,s=o.refetch,p=Object(a.useState)([]),f=Object(i.a)(p,2),b=f[0],v=f[1],g=Object(a.useState)(""),E=Object(i.a)(g,2),O=E[0],j=E[1];return Object(a.useEffect)((function(){return m&&m.Person&&v(m.Person),function(){}}),[m]),u?(console.log("error",u),r.a.createElement("p",null,"Error")):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(G,{title:"People",onAdd:function(){return c(!0)}}),r.a.createElement(I,{placeholder:"Search people",onChange:function(e){if(j(e.target.value),e.target.value.length<1)return v(m.Person);var t=Object.assign([],m.Person);v(t.filter((function(t){return t.name.toLowerCase().indexOf(e.target.value.toLowerCase())>-1})))},value:O}),b&&b.map((function(e,t){return r.a.createElement(_,{key:t,onEdit:function(){return c(e)},onClick:function(){return Object(d.navigate)("person/".concat(e.personId))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"logo cover",style:e.image?{backgroundImage:"url(".concat(e.image,")")}:{border:"1px solid black"}}),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,e.name),r.a.createElement("p",{className:"subText"},e.jobTitle))))})),n&&r.a.createElement(h,null,r.a.createElement(Ue,Object.assign({},n,{onCancel:function(){c(!1),s().then((function(e){}))}}))))}var Re=function(){return r.a.createElement("div",{className:"homeContainer"},"404")},Je=(n(32),{"/":function(){return r.a.createElement(te,null)},"/departments":function(){return r.a.createElement(pe,null)},"/department/:id":function(e){var t=e.id;return r.a.createElement(ge,{id:t})},"/parties":function(){return r.a.createElement(ke,null)},"/person/:id":function(e){var t=e.id;return r.a.createElement(Le,{id:t})},"/people":function(){return r.a.createElement(Be,null)},"/party/:id":function(e){var t=e.id;return r.a.createElement(je,{id:t})},"/postcode":function(){return r.a.createElement(ae,null)},"/members":function(){return r.a.createElement(Z,null)},"/govt":function(){return r.a.createElement(z,null)},"/news":function(){return r.a.createElement(X,null)},"/images":function(){return r.a.createElement(ne,null)}}),We=function(){return Object(d.useRoutes)(Je)||r.a.createElement(Re,null)};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var qe="/api",_e=function(e){var t=Object(a.useRef)(null).current,n=Object(a.useState)(),c=Object(i.a)(n,2),o=c[0],u=c[1],s=Object(a.useState)(!1),d=Object(i.a)(s,2),p=d[0],f=d[1],b=Object(a.useState)({image:!1,title:"Hello",description:"",items:[]}),v=Object(i.a)(b,2),E=v[0],O=v[1],j=Object(a.useState)(!1),C=Object(i.a)(j,2),y=C[0],I=C[1];function h(e){var n=document.elementFromPoint(e.clientX,e.clientY);if(n){var a=n.closest(".droppable");t!=a&&(t=a)&&I(!0)}}function N(e){var t=Object.assign([],E.items);t.push(e),E.items=t,O(E)}return r.a.createElement(m,{value:{makeQuery:function(e,t){return console.log("funcToCall",e),new Promise((function(n,a){e&&(f(!0),e(t).then((function(){n(),f(!1)})).catch((function(e){a()})))}))},loading:p,setLoading:f,host:qe,onDragStart:function(e){return u(e),!1},updateArticleKeyValue:function(e,t){var n=Object.assign([],E);n[e]=t,O(n)},onDragEnd:function(){if(y)switch(I(!1),o.type){case"member":return e=o.item,t=o.meta,void Y.a.get("".concat(qe,"/memberbyid?id=").concat(e),(function(e){N({type:"member",item:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.value,{},t)})}));default:return N(o)}var e,t},currentDroppable:t,onDragMouseDown:function(){document.addEventListener("drag",h)},onDragMouseUp:function(){document.removeEventListener("drag",h)},isDroppable:y,article:E}},r.a.createElement(g,null),r.a.createElement("div",{className:"appContentContainer"},r.a.createElement("div",{className:"routesContainer"},r.a.createElement(We,null))),p&&r.a.createElement("div",{className:"loading"}))},Ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ke(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var He=n(38),Ye=n(13),Xe=new He.a({uri:"https://eloquent-chandrasekhar-a221ea.netlify.app/.netlify/functions/graphql"});o.a.render(r.a.createElement((function(){return r.a.createElement(Ye.a,{client:Xe},r.a.createElement(_e,null))}),null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Ge?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ke(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Ke(e)}))}}()}]),[[39,1,2]]]);
//# sourceMappingURL=main.363f83a4.chunk.js.map