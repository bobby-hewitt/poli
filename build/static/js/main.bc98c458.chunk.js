(window["webpackJsonpweb-pa"]=window["webpackJsonpweb-pa"]||[]).push([[0],[,,,,,,,,,,function(e,t){},,,function(e,t,a){e.exports=a(54)},,,,,function(e,t,a){},,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/social.4add1a52.svg"},function(e,t,a){e.exports=a.p+"static/media/news.d31bc934.svg"},function(e,t,a){e.exports=a.p+"static/media/govt.c702dc1e.svg"},function(e,t,a){e.exports=a.p+"static/media/members.dece2b40.svg"},function(e,t,a){e.exports=a.p+"static/media/images.28effef0.svg"},function(e,t,a){e.exports=a.p+"static/media/post.13e1259d.svg"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/arrow.6a1af9a1.svg"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=(a(18),a(12)),i=a(1),s=Object(n.createContext)({}),m=s.Provider,u=s,d=a(4),p=(a(30),{Conservative:"0087dc","Liberal Democrat":"FDBB30",Labour:"d50000","Plaid Cymru":"3F8428","Green Party":"008066","UK Independence Party":"B3009D","Scottish National Party":"FFF95D","Social Democratic & Labour Party":"2AA82C",Alliance:"F6CB2F","Democratic Unionist Party":"D46A4C"}),E=(a(31),function(e){var t=e.type,a=e.isVoid,c=e.meta,o=e.item,l=e.children,i=Object(n.useContext)(u);return a?r.a.createElement("div",null,l):r.a.createElement("div",{className:"DraggableTestContainer",draggable:"true",onMouseDown:function(){return i.onDragMouseDown()},onMouseUp:function(){return i.onDragMouseUp()},onDragEnd:function(){return i.onDragEnd()},onDragStart:function(){return i.onDragStart({type:t,item:o,meta:c})}},l)}),b=function(e){return r.a.createElement("div",{className:"VoteOuterContainer",onClick:function(){return e.onClick(e.index,e.DivisionId)}},r.a.createElement(E,Object.assign({type:"vote",item:e.item},{isVoid:e.draggableMembers}),r.a.createElement("div",{className:"VoteContainer"},r.a.createElement("p",{className:"title"},e.Title),r.a.createElement("p",{className:"date"},(t=e.Date,new Date(t).toUTCString())),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"For ",r.a.createElement("span",null,"(",e.AyeCount,")")),r.a.createElement("div",{className:"row"},e.Ayes&&e.Ayes.map((function(e,t){return r.a.createElement("div",{key:t,className:"teller",style:{backgroundColor:"#"+p[e.PartyName]+"44"}},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))}))),e.AyeMembers&&e.AyeMembers.map((function(e,t){return r.a.createElement("div",{key:t,className:"memberVoteOverview"},r.a.createElement(E,{type:"member",item:e.MemberId,meta:{supporter:!0}},r.a.createElement("div",null,r.a.createElement("p",{className:"memberName"},e.Name),r.a.createElement("p",null,e.Party))))}))),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"Against ",r.a.createElement("span",null,"(",e.NoCount,")")),r.a.createElement("div",{className:"row"},e.Noes&&e.Noes.map((function(e,t){return r.a.createElement("div",{key:t,className:"teller",style:{backgroundColor:"#"+p[e.PartyName]+"44"}},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))}))),e.NoeMembers&&e.NoeMembers.map((function(e,t){return r.a.createElement("div",{key:t,className:"memberVoteOverview"},r.a.createElement(E,{type:"member",item:e.MemberId,meta:{supporter:!1}},r.a.createElement("div",null,r.a.createElement("p",{className:"memberName"},e.Name),r.a.createElement("p",null,e.Party))))}))))));var t},f=(a(32),a(33),[{label:"Social",route:"/",icon:a(34)},{label:"News",route:"/news",icon:a(35)},{label:"Govt",route:"/govt",icon:a(36)},{label:"Members",route:"/members",icon:a(37)},{label:"Images",route:"/images",icon:a(38)},{label:"Posts",route:"/posts",icon:a(39)}]),g=function(){var e=Object(n.useState)(window.location.pathname),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"MenuContainer"},f&&f.map((function(e,t){return r.a.createElement("div",{key:t,className:"MenuItemContainer ".concat(e.route===a&&"isSelected"),onClick:function(){c(e.route),Object(d.navigate)(e.route)}},r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:e.icon})))})))},v=(a(40),a(41),function(e){var t=e.text,a=(e.created_at,e.user),n=(e.item,a.profile_image_url_https),c=a.screen_name,o=a.name;return r.a.createElement("div",{className:"ArticleTweetContainer"},r.a.createElement("div",{className:"userContainer"},r.a.createElement("img",{src:n}),r.a.createElement("div",{className:"userMetaContainer"},r.a.createElement("p",{className:"userName"},o),r.a.createElement("p",{className:"userScreenName"},"@",c))),r.a.createElement("p",null,t))}),N=(a(42),function(e){return r.a.createElement("div",{className:"ArticleVoteContainer"},r.a.createElement("p",{className:"title"},e.Title),r.a.createElement("p",{className:"date"},(t=e.Date,new Date(t).toUTCString())),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"For ",r.a.createElement("span",null,"(",e.AyeCount,")")),r.a.createElement("div",{className:"row"},e.Ayes&&e.Ayes.map((function(e,t){return r.a.createElement("div",{key:t,className:"teller",style:{backgroundColor:"#"+p[e.PartyName]+"44"}},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))})))),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"Against ",r.a.createElement("span",null,"(",e.NoCount,")")),r.a.createElement("div",{className:"row"},e.Noes&&e.Noes.map((function(e,t){return r.a.createElement("div",{key:t,className:"teller",style:{backgroundColor:"#"+p[e.PartyName]+"44"}},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))})))));var t}),C=(a(43),function(e){var t=e.nameDisplayAs,a=e.thumbnailUrl,n=e.supporter,c=e.latestParty;return r.a.createElement("div",{className:"memberContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(a,")")}}),r.a.createElement("p",null,t),r.a.createElement("p",null,c.name),r.a.createElement("p",null,!0===n||!1===n?n?"Voted for":"Voted against":""))}),O=(a(44),function(e){var t=e.url,a=e.height,n=e.width;return r.a.createElement("div",{className:"imageCompOuter",style:{height:a,width:n}},r.a.createElement("div",{className:"imageComp",style:{backgroundImage:"url(".concat(t,")")}}))}),y=function(){var e=Object(n.useContext)(u),t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"ArticleContainer ".concat(c&&"isExpanded"," droppable ").concat(e.isDroppable&&"isActiveDroppable"),onClick:function(){return o(!c)},onDragOver:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"ArticleInnerContainer"},r.a.createElement("div",{className:"newArticlePlaceholder"},e.article.map((function(e,t){switch(e.type){case"tweet":return r.a.createElement(v,Object.assign({},e.item,{item:e.item,key:t,index:t}));case"vote":return r.a.createElement(N,Object.assign({},e.item,{item:e.item,key:t,index:t}));case"member":return r.a.createElement(C,Object.assign({},e.item,{item:e.item,key:t,index:t}));case"image":return r.a.createElement(O,Object.assign({},e.item,{url:e.item.regular,key:t,index:t}));default:return r.a.createElement("p",null,e)}})))))},j=(a(45),function(e){var t=e.value,n=e.onChange,c=e.onSubmit,o=e.placeholder;return r.a.createElement("div",{className:"inputOuterContainer"},r.a.createElement("div",{className:"inputContainer"},r.a.createElement("input",{type:"text",value:t,onChange:n,placeholder:o,onKeyDown:function(e){13===e.keyCode&&c()}}),r.a.createElement("div",{className:"submit",onClick:function(){return c()}},r.a.createElement("img",{src:a(46)}))))}),h=(a(47),function(e){var t=e.onClick,a=e.name,n=e.index,c=e.text,o=e.isSelected;return r.a.createElement("div",{className:"TrendContainer ".concat(o&&"isSelected"),onClick:function(){return t(n)}},r.a.createElement("p",null,a||c))}),w=(a(48),function(e){var t=e.text,a=(e.created_at,e.user),n=e.item,c=a.profile_image_url_https,o=a.screen_name,l=a.name;return r.a.createElement("div",{className:"tweetOuterContainer"},r.a.createElement(E,{type:"tweet",item:n},r.a.createElement("div",{className:"TweetContainer"},r.a.createElement("div",{className:"userContainer"},r.a.createElement("img",{src:c}),r.a.createElement("div",{className:"userMetaContainer"},r.a.createElement("p",{className:"userName"},l),r.a.createElement("p",{className:"userScreenName"},"@",o))),r.a.createElement("p",null,t))))}),S=(a(10),a(2)),k=a.n(S),D=(a(49),function(){var e=Object(n.useContext)(u),t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],d=s[1],p=Object(n.useState)(!1),E=Object(i.a)(p,2),b=E[0],f=E[1];function g(e){return new Date(e).toUTCString()}return Object(n.useEffect)((function(){return console.log("getting news"),k.a.get("".concat(e.host,"/news"),(function(e){o(e.articles)})),function(){}}),[]),r.a.createElement("div",{className:"newsContainer ".concat(b&&"isSelected")},r.a.createElement(j,{onSubmit:function(){k.a.get("".concat(e.host,"/news?s=").concat(m),(function(e){o(e.articles)}))},placeholder:"Search keyword",onChange:function(e){return d(e.target.value)},value:m}),r.a.createElement("div",{className:"newsInnerContainer"},c&&c.map((function(e,t){return r.a.createElement("div",{className:"newsArticle",onClick:function(){console.log("selecting item",e),f(e)}},r.a.createElement("div",{className:"newsArticleInner"},r.a.createElement("div",{className:"imageOuterContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(e.urlToImage,")")}})),r.a.createElement("p",{className:"title"},e.title),r.a.createElement("p",{className:"description"},e.description),r.a.createElement("p",{className:"source"},e.source.name),r.a.createElement("p",{className:"publishedDate"},g(e.publishedAt))))}))),b&&r.a.createElement("div",{className:"selectedArticle"},r.a.createElement("div",{className:"newsArticle",onClick:function(){return f(!1)}},r.a.createElement("div",{className:"newsArticleInner"},r.a.createElement("div",{className:"imageOuterContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(b.urlToImage,")")}})),r.a.createElement("p",{className:"title"},b.title),r.a.createElement("p",{className:"description"},b.description),r.a.createElement("p",{className:"description"},b.content),r.a.createElement("p",{className:"source"},b.source.name),r.a.createElement("p",{className:"publishedDate"},g(b.publishedAt))))))}),x=function(e){var t=Object(n.useContext)(u),a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),d=m[0],p=m[1];function E(e,a){var n=Object.assign({},o[e]);k.a.get("".concat(t.host,"/division?id=").concat(a),(function(e){n.AyeMembers=e.Ayes,n.NoeMembers=e.Noes,p(n)}))}return Object(n.useEffect)((function(){return k.a.get("".concat(t.host,"/divisions"),(function(e){console.log("got divisions",e),l(e.reverse())})),function(){}}),[]),r.a.createElement("div",{className:"ParliamentContainer"},r.a.createElement(j,{onSubmit:function(){},onChange:function(e){},value:"",placeholder:"Search hashtag or keyword"}),!d&&o&&o.map((function(e,t){return r.a.createElement(b,Object.assign({item:e,index:t,key:t},e,{onClick:E}))})),d&&r.a.createElement("div",null,console.log(d),r.a.createElement(b,Object.assign({draggableMembers:!0,item:d},d,{onClick:function(){}}))))},P=(a(50),function(){var e=Object(n.useContext)(u),t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){return function(){}}),[]),r.a.createElement("div",{className:"membersContainer "},r.a.createElement(j,{onSubmit:function(){k.a.get("".concat(e.host,"/member?name=").concat(m),(function(e){console.log("got members",e),o(e.items)}))},placeholder:"Search member name",onChange:function(e){return d(e.target.value)},value:m}),r.a.createElement("div",{className:"membersInnerContainer"},c&&c.map((function(e,t){return r.a.createElement(E,{type:"member",item:e.value.id},r.a.createElement(C,Object.assign({},e.value,{key:t})))}))))}),A=[{name:"London",id:44418},{name:"New York",id:2459115},{name:"Los Angeles",id:2442047},{name:"Washington DC",id:2514590},{name:"Berlin",id:638243},{name:"Madrid",id:766273},{name:"Rome",id:721943},{name:"Paris",id:615702},{name:"Moscow",id:2122265},{name:"Istanbul",id:2344116},{name:"Warsaw",id:523920},{name:"Vienna",id:551801},{name:"Prague",id:796597}],M=(a(51),function(e){var t=Object(n.useContext)(u),a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),d=m[0],p=m[1],E=Object(n.useState)(!1),b=Object(i.a)(E,2),f=b[0],g=b[1],v=Object(n.useState)(""),N=Object(i.a)(v,2),C=N[0],O=N[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),D=S[0],x=S[1];function P(e){p(e),k.a.get("".concat(t.host,"/twittersearch?s=").concat(o[e].name.replace("#","")),(function(e){console.log(e),x(e)}))}function M(e){console.log("setting ",e,A[e]),g(e),p(!1),k.a.get("".concat(t.host,"/twittertrends?s=").concat(A[e].id),(function(e){l(e)}))}return Object(n.useEffect)((function(){return function(){}}),[]),r.a.createElement("div",{className:"SocialContainer"},r.a.createElement(j,{onSubmit:function(){k.a.get("".concat(t.host,"/twittersearch?s=").concat(C),(function(e){g(!1),p(!1),x(e)}))},placeholder:"Search keyword",onChange:function(e){return O(e.target.value)},value:C}),r.a.createElement("div",{className:"PlacesContainer"},A&&A.map((function(e,t){return r.a.createElement(h,Object.assign({isSelected:t===f,index:t,key:t},e,{onClick:M}))}))),r.a.createElement("div",{className:"TrendsContainer"},(f||0===f)&&o&&o.map((function(e,t){return r.a.createElement(h,Object.assign({isSelected:t===d,index:t,key:t},e,{onClick:P}))}))),r.a.createElement("div",{className:"TweetsContainer"},D&&D.map((function(e,t){return r.a.createElement(w,Object.assign({item:e,isSelected:t===d,index:t,key:t},e,{onClick:P}))}))))}),I=(a(52),function(e){var t=Object(n.useContext)(u),a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){return k.a.get("".concat(t.host,"/photos"),(function(e){l(JSON.parse(e))})),function(){}}),[]),r.a.createElement("div",{className:"ImagesContainer"},r.a.createElement(j,{onSubmit:function(){k.a.get("".concat(t.host,"/photos?s=").concat(d),(function(e){console.log("res",JSON.parse(e)),l(JSON.parse(e).results)}))},placeholder:"Search keyword",onChange:function(e){return p(e.target.value)},value:d}),o&&o.map((function(e,t){return r.a.createElement("div",{className:"imageOuterContainerHalf"},r.a.createElement(E,{type:"image",item:e.urls},r.a.createElement(O,{url:e.urls.regular,key:t})))})))}),V=function(e){var t=Object(n.useContext)(u),a=Object(n.useState)("e149xb"),c=Object(i.a)(a,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"homeContainer"},r.a.createElement("input",{value:o,onChange:function(e){return l(e.target.value.replace(/\s/g,"").toUpperCase())}}),r.a.createElement("div",{onClick:function(){k.a.get("".concat(t.host,"/postcode?postcode=").concat(o),(function(e){console.log(e)}))}},"Submit"))},T=function(){return r.a.createElement("div",{className:"homeContainer"},"404")},F=(a(53),{"/":function(){return r.a.createElement(M,null)},"/postcode":function(){return r.a.createElement(V,null)},"/members":function(){return r.a.createElement(P,null)},"/govt":function(){return r.a.createElement(x,null)},"/news":function(){return r.a.createElement(D,null)},"/images":function(){return r.a.createElement(I,null)}}),U=function(){return Object(d.useRoutes)(F)||r.a.createElement(T,null)};function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var B="/api",L=function(e){var t=Object(n.useRef)(null).current,a=Object(n.useState)(),c=Object(i.a)(a,2),o=c[0],s=c[1],u=Object(n.useState)([]),d=Object(i.a)(u,2),p=d[0],E=d[1],b=Object(n.useState)(!1),f=Object(i.a)(b,2),v=f[0],N=f[1];function C(e){var a=document.elementFromPoint(e.clientX,e.clientY);if(a){var n=a.closest(".droppable");t!=n&&(t=n)&&N(!0)}}function O(e){var t=Object.assign([],p);t.push(e),console.log("newArticle",t),E(t)}return r.a.createElement(m,{value:{host:B,onDragStart:function(e){return console.log("dragging",e),s(e),!1},onDragEnd:function(){if(console.log("dropping",v),v)switch(console.log("dropping",o,p),N(!1),o.type){case"member":return e=o.item,t=o.meta,void k.a.get("".concat(B,"/memberbyid?id=").concat(e),(function(a){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.value,{},t);console.log("got member",e,t,n),O({type:"member",item:n})}));default:return O(o)}var e,t},currentDroppable:t,onDragMouseDown:function(){console.log("mouse down"),document.addEventListener("drag",C)},onDragMouseUp:function(){console.log("mouse up"),document.removeEventListener("drag",C)},isDroppable:v,article:p}},r.a.createElement("div",{className:"appContentContainer"},r.a.createElement(g,null),r.a.createElement("div",{className:"routesContainer"},r.a.createElement(U,null)),r.a.createElement(y,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.bc98c458.chunk.js.map