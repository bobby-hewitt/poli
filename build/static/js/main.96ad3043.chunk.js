(window["webpackJsonpweb-pa"]=window["webpackJsonpweb-pa"]||[]).push([[0],Array(18).concat([function(e,t,n){e.exports=n.p+"static/media/govt.c702dc1e.svg"},,,,,,function(e,t,n){},,,,,function(e,t,n){e.exports=n.p+"static/media/closeBlack.cb133e6e.svg"},function(e,t,n){e.exports=n.p+"static/media/add.d498c470.svg"},,function(e,t){},function(e,t,n){e.exports=n.p+"static/media/trash.58deec55.svg"},function(e,t,n){},,,,,,,,function(e,t,n){e.exports=n(97)},,,,,function(e,t,n){},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/members.dece2b40.svg"},function(e,t,n){e.exports=n.p+"static/media/images.28effef0.svg"},function(e,t,n){e.exports=n.p+"static/media/post.13e1259d.svg"},function(e,t,n){e.exports=n.p+"static/media/minus.c5518435.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/arrow.6a1af9a1.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/edit.7d394fbb.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(35),o=n.n(c),l=(n(47),n(19)),i=n(3),u=Object(a.createContext)({}),s=u.Provider,m=u,d=n(9),p=(n(58),n(59),function(e){var t=e.type,n=e.isVoid,c=e.meta,o=e.item,l=e.children,i=Object(a.useContext)(m);return n?r.a.createElement("div",null,l):r.a.createElement("div",{className:"DraggableTestContainer",draggable:"true",onMouseDown:function(){return i.onDragMouseDown()},onMouseUp:function(){return i.onDragMouseUp()},onDragEnd:function(){return i.onDragEnd()},onDragStart:function(){return i.onDragStart({type:t,item:o,meta:c})}},l)}),f=function(e){return r.a.createElement("div",{className:"VoteOuterContainer",onClick:function(){e.onClick&&e.onClick(e.index,e.DivisionId)}},r.a.createElement(p,Object.assign({type:"vote",item:e.item},{isVoid:e.draggableMembers}),r.a.createElement("div",{className:"VoteContainer"},r.a.createElement("p",{className:"title"},e.Title),r.a.createElement("p",{className:"date"},(t=e.Date,new Date(t).toUTCString())),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"For ",r.a.createElement("span",null,"(",e.AyeCount,")")),e.Ayes&&e.Ayes.map((function(e,t){return r.a.createElement("div",{key:t,className:"partyContainer"},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))})),e.AyeMembers&&e.AyeMembers.map((function(e,t){return r.a.createElement("div",{key:t,className:"memberVoteOverview"},r.a.createElement(p,{type:"member",item:e.MemberId,meta:{supporter:!0}},r.a.createElement("div",null,r.a.createElement("p",{className:"memberName"},e.Name),r.a.createElement("p",null,e.Party))))}))),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"Against ",r.a.createElement("span",null,"(",e.NoCount,")")),e.Noes&&e.Noes.map((function(e,t){return r.a.createElement("div",{key:t,className:"partyContainer"},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))})),e.NoeMembers&&e.NoeMembers.map((function(e,t){return r.a.createElement("div",{key:t,className:"memberVoteOverview"},r.a.createElement(p,{type:"member",item:e.MemberId,meta:{supporter:!1}},r.a.createElement("div",null,r.a.createElement("p",{className:"memberName"},e.Name),r.a.createElement("p",null,e.Party))))}))),e.onClose&&r.a.createElement("div",{className:"voteClose",onClick:function(){return e.onClose()}},r.a.createElement("img",{src:n(29)})))));var t},g=(n(60),n(61),[{label:"Govt",route:"/govt",icon:n(18),submenu:[{label:"Departments",icon:n(18),route:"/departments"},{label:"Parties",icon:n(18),route:"/parties"},{label:"Votes",icon:n(18),route:"/govt"}]},{label:"People",route:"/people",icon:n(62)},{label:"Images",route:"/images",icon:n(63)},{label:"Posts",route:"/posts",icon:n(64)}]),v=function(){var e=Object(a.useContext)(m),t=Object(a.useState)(window.location.pathname),c=Object(i.a)(t,2),o=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"MenuPlaceholder"}),r.a.createElement("div",{className:"MenuContainer"},g&&g.map((function(e,t){return r.a.createElement("div",{key:t,className:"MenuItemContainer ".concat(e.route===o&&"isSelected"),onClick:function(){l(e.route),Object(d.navigate)(e.route)}},r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:e.icon}),r.a.createElement("p",null,e.label)),e.submenu&&r.a.createElement("div",{className:"subMenuOuterContainer"},r.a.createElement("div",{className:"submenu"},e.submenu.map((function(e,n){return r.a.createElement("div",{key:"".concat(t).concat(n),className:"SubMenuItemContainer ".concat(e.route===o&&"isSelected"),onClick:function(t){t.stopPropagation(),l(e.route),Object(d.navigate)(e.route)}},r.a.createElement("div",{className:"subimageContainer"},r.a.createElement("img",{src:e.icon}),r.a.createElement("p",null,e.label)))})))))})),r.a.createElement("div",{className:"PostController",onClick:function(){return e.setShowArticle(!e.showArticle)}},r.a.createElement("img",{key:e.showArticle,src:e.showArticle?n(65):n(30)}))))},b=(n(36),n(7)),E=(n(66),n(67),function(e){var t=e.text,n=(e.created_at,e.user),a=(e.item,n.profile_image_url_https),c=n.screen_name,o=n.name;return r.a.createElement("div",{className:"ArticleTweetContainer"},r.a.createElement("div",{className:"userContainer"},r.a.createElement("img",{src:a}),r.a.createElement("div",{className:"userMetaContainer"},r.a.createElement("p",{className:"userName"},o),r.a.createElement("p",{className:"userScreenName"},"@",c))),r.a.createElement("p",null,t))}),C=(n(68),function(e){return r.a.createElement("div",{className:"ArticleVoteContainer"},r.a.createElement("p",{className:"title"},e.Title),r.a.createElement("p",{className:"date"},(t=e.Date,new Date(t).toUTCString())),r.a.createElement("p",{className:"title"},"For ",r.a.createElement("span",null,"(",e.AyeCount,")")),r.a.createElement("p",{className:"title"},"Against ",r.a.createElement("span",null,"(",e.NoCount,")")));var t}),O=(n(69),function(e){var t=e.nameDisplayAs,n=e.thumbnailUrl,a=e.supporter,c=e.latestParty;return r.a.createElement("div",{className:"memberContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(n,")")}}),r.a.createElement("p",null,t),r.a.createElement("p",null,c.name),r.a.createElement("p",null,!0===a||!1===a?a?"Voted for":"Voted against":""))}),y=(n(70),function(e){var t=e.url,n=e.height,a=e.width;return r.a.createElement("div",{className:"imageCompOuter",style:{height:n,width:a}},r.a.createElement("div",{className:"imageComp",style:{backgroundImage:"url(".concat(t,")")}}))}),j=(n(71),n(5)),h=n(6),I=n.n(h);function N(){var e=Object(b.a)(["\n{\n  PolicyArea{\n    name\n  }\n}"]);return N=function(){return e},e}var w=I()(N()),k=function(e){var t=e.state,n=e.policyAreas;console.log(n);var a=t.article,c=(a.type,a.title),o=a.image,l=a.items,i=a.description,u=(a.voteId,a.vote);a.reactions;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,Object.assign({},u,{item:u})),r.a.createElement(L,{onChange:function(e){return t.updateArticleKeyValue("title",e.target.value)},value:c,placeholder:"Title"}),r.a.createElement(L,{onChange:function(e){return t.updateArticleKeyValue("image",e.target.value)},value:o,placeholder:"Image Url"}),r.a.createElement("div",{className:"articleImage2"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(o,")")},className:"img"})),r.a.createElement(L,{type:"textarea",onChange:function(e){return t.updateArticleKeyValue("description",e.target.value)},value:i,placeholder:"Description"}),r.a.createElement(ae,{title:"Policy areas"}),r.a.createElement(ae,{title:"Issues",createTag:!0}),l&&r.a.createElement(S,{items:l}))},D=function(e){var t=e.state,n=t.article,a=(n.type,n.title),c=n.image,o=n.items,l=n.description,i=(n.voteId,n.vote,n.reactions);return console.log("items",o),r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{onChange:function(e){return t.updateArticleKeyValue("title",e.target.value)},value:a,placeholder:"Title"}),r.a.createElement(L,{onChange:function(e){return t.updateArticleKeyValue("image",e.target.value)},value:c,placeholder:"Image Url"}),r.a.createElement("div",{className:"articleImage2"},r.a.createElement("p",{className:"dragnDrop"},"Drag and drop image",r.a.createElement("br",null),"or paste URL above"),r.a.createElement("div",{style:{backgroundImage:"url(".concat(c,")")},className:"img"})),r.a.createElement(L,{type:"textarea",onChange:function(e){return t.updateArticleKeyValue("description",e.target.value)},value:l,placeholder:"Description"}),r.a.createElement(ae,{title:"Policy areas"}),r.a.createElement(ae,{title:"Issues",createTag:!0}),r.a.createElement(L,{type:"checkbox",onChange:function(e){return t.updateArticleKeyValue("reactions",e.target.value)},value:i,placeholder:"Show reactions"}),o&&r.a.createElement(S,{items:o}))},S=function(e){var t=e.items;return r.a.createElement("div",{className:"newArticlePlaceholder"},t.map((function(e,t){switch(e.type){case"tweet":return r.a.createElement(E,Object.assign({},e.item,{item:e.item,key:t,index:t}));case"vote":return r.a.createElement(C,Object.assign({},e.item,{item:e.item,key:t,index:t}));case"member":return r.a.createElement(O,Object.assign({},e.item,{item:e.item,key:t,index:t}));case"image":return r.a.createElement(y,Object.assign({},e.item,{url:e.item.regular,key:t,index:t}));default:return r.a.createElement("p",{key:t},e)}})))},P=function(e){e.onSave;var t=e.onCancel;e.onDelete;return r.a.createElement("div",{className:"actionContainer"},r.a.createElement(U,{style:{marginLeft:"4px"},label:"Save",onClick:function(){}}),r.a.createElement(U,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:function(){return t()}}),r.a.createElement(U,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){}}))},A=function(){var e=Object(a.useContext)(m),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],l=Object(j.b)(w),u=l.loading,s=l.error,d=l.policyAreas,p=(l.refetch,e.article),f=p.type;p.title,p.image,p.description,p.voteId,p.vote,p.reactions;function g(){e.resetArticle()}function v(){}function b(){}return f?s?r.a.createElement("p",null,"Error"):u?r.a.createElement("p",null,"Loading"):(console.log("POLICY",d),"vote"===f?r.a.createElement("div",{className:"ArticleContainer ".concat(c&&"isExpanded"," droppable ").concat(e.isDroppable&&"isActiveDroppable"),onClick:function(){return o(!c)},onDragOver:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"ArticleInnerContainer"},r.a.createElement(k,{state:e,policyAreas:d}),r.a.createElement(P,{onSave:b,onCancel:g,onDelete:v}))):r.a.createElement("div",{className:"ArticleContainer ".concat(c&&"isExpanded"," droppable ").concat(e.isDroppable&&"isActiveDroppable"),onClick:function(){return o(!c)},onDragOver:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"ArticleInnerContainer"},r.a.createElement(D,{state:e,policyAreas:d}),r.a.createElement(P,{onSave:b,onCancel:g,onDelete:v})))):r.a.createElement("div",{className:"ArticleContainer ".concat(c&&"isExpanded"," droppable ").concat(e.isDroppable&&"isActiveDroppable"),onClick:function(){return o(!c)},onDragOver:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"ArticleInnerContainer"},r.a.createElement("p",null,"Drag and drop vote here or"),r.a.createElement(U,{label:"Create new article",onClick:function(){return e.updateArticleKeyValue("type","general")}})))},x=(n(74),function(e){var t=e.value,a=e.onChange,c=e.onSubmit,o=e.placeholder;return r.a.createElement("div",{className:"inputOuterContainer"},r.a.createElement("div",{className:"inputContainer"},r.a.createElement("input",{type:"text",value:t,onChange:a,placeholder:o,onKeyDown:function(e){13===e.keyCode&&c()}}),r.a.createElement("div",{className:"submit",onClick:function(){return c()}},r.a.createElement("img",{src:n(75)}))))}),$=(n(76),function(e){var t=e.onClick,n=e.name,a=e.index,c=e.text,o=e.isSelected;return r.a.createElement("div",{className:"TrendContainer ".concat(o&&"isSelected"),onClick:function(){return t(a)}},r.a.createElement("p",null,n||c))}),T=(n(77),function(e){var t=e.text,n=(e.created_at,e.user),a=e.item,c=n.profile_image_url_https,o=n.screen_name,l=n.name;return r.a.createElement("div",{className:"tweetOuterContainer"},r.a.createElement(p,{type:"tweet",item:a},r.a.createElement("div",{className:"TweetContainer"},r.a.createElement("div",{className:"userContainer"},r.a.createElement("img",{src:c}),r.a.createElement("div",{className:"userMetaContainer"},r.a.createElement("p",{className:"userName"},l),r.a.createElement("p",{className:"userScreenName"},"@",o))),r.a.createElement("p",null,t))))}),L=(n(78),function(e){var t=e.onChange,n=e.value,a=e.placeholder,c=e.type,o=e.options,l=e.style;return r.a.createElement("div",null,r.a.createElement("label",null,a),(!c||"textinput"===c)&&r.a.createElement("input",{className:"textInput",onChange:t,value:n,style:l||{}}),c&&"textarea"===c&&r.a.createElement("textarea",{className:"textArea",onChange:t,value:n,style:l||{}}),c&&"dropdown"===c&&r.a.createElement("select",null,o&&o.map((function(e,t){return r.a.createElement("option",{value:e.toLowerCase()},e)}))),c&&"checkbox"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"checkbox",value:n})))}),M=(n(79),function(e){var t=e.children;e.onCancel,e.onSave,e.onDelete;return r.a.createElement("div",{className:"editModalOuter"},r.a.createElement("div",{className:"editModalFalseInner"},r.a.createElement("div",{className:"editModalInner",onClick:function(){}},t)))}),U=(n(80),function(e){var t=e.secondary,n=e.tirshary,a=e.label,c=e.warning,o=e.onClick,l=e.style;return r.a.createElement("div",{style:l||{},className:"ButtonContainer ".concat(t&&"secondary"," ").concat(n&&"tirshary"," ").concat(c&&"warning"),onClick:o},r.a.createElement("p",null,a))});n(81);function V(){var e=Object(b.a)(["\n  mutation DeletePerson($personId: ID!) {\n    DeletePerson(personId: $personId) {\n      personId\n    }\n  }\n"]);return V=function(){return e},e}function R(){var e=Object(b.a)(["\n  mutation UpdatePerson($name: String!, $id: ID!, $jobTitle: String!, $twitter: String!, $image:String!) {\n    UpdatePerson(name: $name, personId: $id, jobTitle:$jobTitle, twitter:$twitter, image:$image) {\n      name\n      personId  \n      jobTitle\n      twitter\n      image\n    }\n  }\n"]);return R=function(){return e},e}function _(){var e=Object(b.a)(["\n  mutation CreatePerson($name: String!,  $id:ID!, $jobTitle: String!, $twitter: String!, $image:String!) {\n    CreatePerson(name: $name, personId: $id, jobTitle:$jobTitle, twitter:$twitter, image:$image) {\n      name\n      personId\n      jobTitle\n      twitter\n      image\n      \n    }\n  }\n"]);return _=function(){return e},e}function F(){var e=Object(b.a)(["\n  mutation AddPersonParty($personId: ID!, $partyId:ID!) {\n    AddPersonParty(from:{personId:$personId}, to:{partyId: $partyId} ){\n      from{\n        personId\n      }\n      to{\n        partyId\n      }\n\n    }\n  }\n"]);return F=function(){return e},e}function K(){var e=Object(b.a)(["\n{\n  Party {\n    name\n    partyId\n    color\n    logo\n  }\n}"]);return K=function(){return e},e}function B(){var e=Object(b.a)(["\n  mutation AddPersonPDepartments($personId: ID!, $departmentId:ID!) {\n    AddPersonDepartments(from:{personId:$personId}, to:{departmentId: $departmentId} ){\n    \tfrom{\n    \t\tpersonId\n    \t}\n    \tto{\n    \t\tdepartmentId\n    \t}\n\n    }\n  }\n"]);return B=function(){return e},e}function q(){var e=Object(b.a)(["\n{\n  Department {\n    name\n    departmentId\n  }\n}"]);return q=function(){return e},e}var J=I()(q()),Q=I()(B()),W=I()(K()),G=I()(F()),Y=I()(_()),H=I()(R()),X=I()(V()),z=function(e){e.title;var t=e.personId,n=e.onComplete,c=Object(a.useContext)(m),o=Object(j.b)(W),l=o.loading,u=o.error,s=o.data,d=(o.refetch,Object(j.a)(G)),p=Object(i.a)(d,1)[0];return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"chooseItemContainer"},s&&s.Party&&s.Party.map((function(e,a){return r.a.createElement(ee,{key:a},r.a.createElement("div",{onClick:function(){return function(e){c.makeQuery(p,{variables:{partyId:e.partyId,personId:t}}).then((function(e){n()}))}(e)}},r.a.createElement("p",null,e.name)))})))},Z=(n(82),function(e){e.title;var t=e.personId,n=e.onComplete,c=Object(a.useContext)(m),o=Object(j.b)(J),l=o.loading,u=o.error,s=o.data,d=(o.refetch,Object(j.a)(Q)),p=Object(i.a)(d,1)[0];return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"chooseItemContainer"},r.a.createElement(te,{title:"Add department",secondary:!0}),s&&s.Department&&s.Department.map((function(e,a){return r.a.createElement(ee,null,r.a.createElement("div",{onClick:function(){return function(e){c.makeQuery(p,{variables:{departmentId:e.departmentId,personId:t}}).then((function(){n()}))}(e)}},r.a.createElement("p",null,e.name)))})))}),ee=(n(83),function(e){var t=e.children,a=e.onEdit,c=e.onClick;return r.a.createElement("div",{className:"rowItem ".concat(c&&"actionable"),onClick:c},t,a&&r.a.createElement("div",{className:"editContainer",onClick:function(e){e.stopPropagation(),a()}},r.a.createElement("img",{src:n(84)})))}),te=(n(85),function(e){var t=e.title,a=e.onAdd,c=e.secondary;return r.a.createElement("div",{className:"sectionTitleContainer ".concat(c&&"secondary")},r.a.createElement("p",null,t),a&&r.a.createElement("div",{className:"addButtonContainer",onClick:a},r.a.createElement("img",{src:n(30)})))}),ne=(n(32),n(86),function(e){var t=e.children;return r.a.createElement("div",{className:"railContainer"},t)}),ae=(n(87),function(e){var t=e.title,c=e.createTag,o=Object(a.useState)(""),l=Object(i.a)(o,2),u=l[0],s=l[1],m=Object(a.useState)([].concat([{name:"Tag 1",selected:!1},{name:"Tag 2",selected:!1},{name:"Tag 3",selected:!1},{name:"Tag 4",selected:!1},{name:"Tag 5",selected:!1},{name:"Tag 6",selected:!1},{name:"Tag 7",selected:!1},{name:"Tag 8",selected:!1},{name:"Tag 9",selected:!1},{name:"Tag 10",selected:!1}])),d=Object(i.a)(m,2),p=d[0],f=d[1],g=p.filter((function(e){return e.selected})),v=p.filter((function(e){return!e.selected&&e.name.toLowerCase().indexOf(u.toLowerCase())>-1}));return console.log(v.length),r.a.createElement("div",{className:"tagOuterContainer"},r.a.createElement("p",{className:"title"},t),r.a.createElement("div",{className:"tagContainer"},r.a.createElement(L,{style:{border:"none",margin:0},onChange:function(e){return s(e.target.value)},value:u}),r.a.createElement("div",{className:"bottomContainer"},g.length>0&&r.a.createElement("div",{className:"selectedContainer"},g.map((function(e,t){return r.a.createElement("div",{className:"selectedTagOuterContainer",key:t,onClick:function(e){e.stopPropagation(),function(e){var t=g[e].name,n=p.findIndex((function(e){return e.name===t})),a=Object.assign([],p);a[n].selected=!1,f(a)}(t)}},r.a.createElement("p",null,e.name),r.a.createElement("img",{src:n(29)}))}))),r.a.createElement("div",{className:"unselectedContainer"},v.map((function(e,t){return r.a.createElement("div",{className:"unselectedTagOuterContainer",key:t,onClick:function(e){e.stopPropagation(),function(e){var t=v[e].name,n=p.findIndex((function(e){return e.name===t})),a=Object.assign([],p);a[n].selected=!0,f(a)}(t)}},r.a.createElement("p",null,e.name))})),0===v.length&&u.length>0&&c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"title noTagsFound"},"No tags found"),r.a.createElement("div",{className:"unselectedTagOuterContainer",onClick:function(e){e.stopPropagation(),function(){var e={name:u,selected:!0},t=Object.assign([],p);t.push(e),f(t),s("")}()}},r.a.createElement("p",null,'Create tag "'.concat(u,'"'))))))))}),re=n(8),ce=n.n(re),oe=(n(88),function(){var e=Object(a.useContext)(m),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),s=u[0],d=u[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),g=f[0],v=f[1];function b(e){return new Date(e).toUTCString()}return Object(a.useEffect)((function(){return console.log("getting news"),ce.a.get("".concat(e.host,"/news"),(function(e){o(e.articles)})),function(){}}),[]),r.a.createElement("div",{className:"newsContainer ".concat(g&&"isSelected")},r.a.createElement(x,{onSubmit:function(){ce.a.get("".concat(e.host,"/news?s=").concat(s),(function(e){o(e.articles)}))},placeholder:"Search keyword",onChange:function(e){return d(e.target.value)},value:s}),r.a.createElement("div",{className:"newsInnerContainer"},c&&c.map((function(e,t){return r.a.createElement("div",{className:"newsArticle",onClick:function(){console.log("selecting item",e),v(e)}},r.a.createElement("div",{className:"newsArticleInner"},r.a.createElement("div",{className:"imageOuterContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(e.urlToImage,")")}})),r.a.createElement("p",{className:"title"},e.title),r.a.createElement("p",{className:"description"},e.description),r.a.createElement("p",{className:"source"},e.source.name),r.a.createElement("p",{className:"publishedDate"},b(e.publishedAt))))}))),g&&r.a.createElement("div",{className:"selectedArticle"},r.a.createElement("div",{className:"newsArticle",onClick:function(){return v(!1)}},r.a.createElement("div",{className:"newsArticleInner"},r.a.createElement("div",{className:"imageOuterContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(g.urlToImage,")")}})),r.a.createElement("p",{className:"title"},g.title),r.a.createElement("p",{className:"description"},g.description),r.a.createElement("p",{className:"description"},g.content),r.a.createElement("p",{className:"source"},g.source.name),r.a.createElement("p",{className:"publishedDate"},b(g.publishedAt))))))}),le=function(e){var t=Object(a.useContext)(m),n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(!1),s=Object(i.a)(u,2),d=s[0],p=s[1];function g(e,n){var a=Object.assign({},o[e]);ce.a.get("".concat(t.host,"/division?id=").concat(n),(function(e){console.log("got vote "),a.AyeMembers=e.Ayes,a.NoeMembers=e.Noes,p(a)}))}return Object(a.useEffect)((function(){return ce.a.get("".concat(t.host,"/divisions"),(function(e){console.log("got divisions",e),l(e.reverse())})),function(){}}),[]),r.a.createElement("div",{className:"ParliamentContainer"},r.a.createElement(te,{title:"Recent votes"}),!d&&o&&o.map((function(e,t){return r.a.createElement(f,Object.assign({item:e,index:t,key:t},e,{onClick:g}))})),d&&r.a.createElement("div",null,r.a.createElement(f,Object.assign({draggableMembers:!0,item:d},d,{onClose:function(){return p(!1)}}))))},ie=(n(89),function(){var e=Object(a.useContext)(m),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),s=u[0],d=u[1];return Object(a.useEffect)((function(){return function(){}}),[]),r.a.createElement("div",{className:"membersContainer "},r.a.createElement(x,{onSubmit:function(){ce.a.get("".concat(e.host,"/member?name=").concat(s),(function(e){console.log("got members",e),o(e.items)}))},placeholder:"Search member name",onChange:function(e){return d(e.target.value)},value:s}),r.a.createElement("div",{className:"membersInnerContainer"},c&&c.map((function(e,t){return r.a.createElement(p,{type:"member",item:e.value.id},r.a.createElement(O,Object.assign({},e.value,{key:t})))}))))}),ue=[{name:"London",id:44418},{name:"New York",id:2459115},{name:"Los Angeles",id:2442047},{name:"Washington DC",id:2514590},{name:"Berlin",id:638243},{name:"Madrid",id:766273},{name:"Rome",id:721943},{name:"Paris",id:615702},{name:"Moscow",id:2122265},{name:"Istanbul",id:2344116},{name:"Warsaw",id:523920},{name:"Vienna",id:551801},{name:"Prague",id:796597}],se=(n(90),function(e){var t=Object(a.useContext)(m),n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(!1),s=Object(i.a)(u,2),d=s[0],p=s[1],f=Object(a.useState)(!1),g=Object(i.a)(f,2),v=g[0],b=g[1],E=Object(a.useState)(""),C=Object(i.a)(E,2),O=C[0],y=C[1],j=Object(a.useState)(!1),h=Object(i.a)(j,2),I=h[0],N=h[1];function w(e){p(e),ce.a.get("".concat(t.host,"/twittersearch?s=").concat(o[e].name.replace("#","")),(function(e){console.log(e),N(e)}))}function k(e){console.log("setting ",e,ue[e]),b(e),p(!1),ce.a.get("".concat(t.host,"/twittertrends?s=").concat(ue[e].id),(function(e){l(e)}))}return Object(a.useEffect)((function(){return function(){}}),[]),r.a.createElement("div",{className:"SocialContainer"},r.a.createElement(x,{onSubmit:function(){ce.a.get("".concat(t.host,"/twittersearch?s=").concat(O),(function(e){b(!1),p(!1),N(e)}))},placeholder:"Search keyword",onChange:function(e){return y(e.target.value)},value:O}),r.a.createElement("div",{className:"PlacesContainer"},ue&&ue.map((function(e,t){return r.a.createElement($,Object.assign({isSelected:t===v,index:t,key:t},e,{onClick:k}))}))),r.a.createElement("div",{className:"TrendsContainer"},(v||0===v)&&o&&o.map((function(e,t){return r.a.createElement($,Object.assign({isSelected:t===d,index:t,key:t},e,{onClick:w}))}))),r.a.createElement("div",{className:"TweetsContainer"},I&&I.map((function(e,t){return r.a.createElement(T,Object.assign({item:e,isSelected:t===d,index:t,key:t},e,{onClick:w}))}))))}),me=(n(91),function(e){var t=Object(a.useContext)(m),n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),d=s[0],f=s[1];return Object(a.useEffect)((function(){return ce.a.get("".concat(t.host,"/photos"),(function(e){l(JSON.parse(e))})),function(){}}),[]),r.a.createElement("div",{className:"ImagesContainer"},r.a.createElement(x,{onSubmit:function(){ce.a.get("".concat(t.host,"/photos?s=").concat(d),(function(e){console.log("res",JSON.parse(e)),l(JSON.parse(e).results)}))},placeholder:"Search keyword",onChange:function(e){return f(e.target.value)},value:d}),o&&o.map((function(e,t){return r.a.createElement("div",{className:"imageOuterContainerHalf"},r.a.createElement(p,{type:"image",item:e.urls},r.a.createElement(y,{url:e.urls.regular,key:t})))})))}),de=function(e){var t=Object(a.useContext)(m),n=Object(a.useState)("e149xb"),c=Object(i.a)(n,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"homeContainer"},r.a.createElement("input",{value:o,onChange:function(e){return l(e.target.value.replace(/\s/g,"").toUpperCase())}}),r.a.createElement("div",{onClick:function(){ce.a.get("".concat(t.host,"/postcode?postcode=").concat(o),(function(e){console.log(e)}))}},"Submit"))};function pe(){var e=Object(b.a)(["\n  mutation DeleteDepartment($departmentId: ID!) {\n    DeleteDepartment(departmentId: $departmentId) {\n      departmentId\n    }\n  }\n"]);return pe=function(){return e},e}function fe(){var e=Object(b.a)(["\n  mutation UpdateDepartment($departmentId: ID!, $name: String!) {\n    UpdateDepartment(departmentId: $departmentId, name: $name) {\n      departmentId\n      name\n    }\n  }\n"]);return fe=function(){return e},e}function ge(){var e=Object(b.a)(["\n  mutation CreateDepartment($name: String!) {\n    CreateDepartment(name: $name) {\n      name\n    }\n  }\n"]);return ge=function(){return e},e}var ve=I()(ge()),be=I()(fe()),Ee=I()(pe());function Ce(e){var t=Object(j.a)(ve),n=Object(i.a)(t,1)[0],c=Object(j.a)(be),o=Object(i.a)(c,1)[0],l=Object(j.a)(Ee),u=Object(i.a)(l,1)[0],s=Object(a.useState)(e.name||""),m=Object(i.a)(s,2),d=m[0],p=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{onChange:function(e){return p(e.target.value)},value:d,placeholder:"Name"}),r.a.createElement("div",{className:"actionContainer"},r.a.createElement(U,{style:{marginLeft:"4px"},label:"Save",onClick:function(){console.log(e),e.departmentId?o({variables:{departmentId:e.departmentId,name:d}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()})):n({variables:{name:d}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}}),r.a.createElement(U,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:e.onCancel}),r.a.createElement(U,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){u({variables:{departmentId:e.departmentId}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}})))}n(92);function Oe(){var e=Object(b.a)(["\n{\n  Department {\n    name\n    departmentId\n  }\n}"]);return Oe=function(){return e},e}var ye=I()(Oe());function je(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(j.b)(ye),l=o.loading,u=o.error,s=o.data,m=o.refetch;return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(te,{title:"Government departments",onAdd:function(){return c(!0)}}),s&&s.Department&&s.Department.map((function(e,t){return r.a.createElement(ee,{onEdit:function(){return c(e)},onClick:function(){return Object(d.navigate)("department/".concat(e.departmentId))}},r.a.createElement("p",{className:"departmentTitle"},e.name))})),n&&r.a.createElement(M,null,r.a.createElement(Ce,Object.assign({},n,{onCancel:function(){c(!1),m().then((function(e){}))}}))))}var he=function(e){console.log(e);try{return console.log("converting",e),JSON.parse(e)}catch(t){return!1}};n(93);function Ie(){var e=Object(b.a)(["\n  query Department($departmentId: ID!) {\n    Department(departmentId: $departmentId) {\n      departmentId\n      name\n      people{\n        name\n        personId\n        twitter\n        tweets\n      }\n    }\n  }\n"]);return Ie=function(){return e},e}var Ne=I()(Ie());function we(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=(n[0],n[1],Object(j.b)(Ne,{variables:{departmentId:e.id}})),o=c.loading,l=c.error,u=c.data;c.refetch;if(l)return r.a.createElement("p",null,"Error");if(o)return r.a.createElement("p",null,"Loading");var s=u.Department[0],m=s.name,p=s.people;s.departmentId;return console.log("got department data",u),r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(te,{title:m}),p&&p.map((function(e,t){var n=he(e.tweets);return r.a.createElement(ee,{onClick:function(){return Object(d.navigate)("/person/".concat(e.personId))}},r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"marginBottom"},e.name),r.a.createElement(ne,null,n&&n.map((function(e,t){return r.a.createElement(T,Object.assign({},e,{key:t}))})))))})))}n(94);function ke(){var e=Object(b.a)(["\n  query Party($partyId: ID!) {\n    Party(partyId: $partyId) {\n     partyId\n      name\n      members{\n        name\n        personId\n      }\n    }\n  }\n"]);return ke=function(){return e},e}var De=I()(ke());function Se(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=(n[0],n[1],Object(j.b)(De,{variables:{partyId:e.id}})),o=c.loading,l=c.error,u=c.data;c.refetch;if(l)return r.a.createElement("p",null,"Error");if(o)return r.a.createElement("p",null,"Loading");if(u&&u.Party&&u.Party[0]){var s=u.Party[0],m=s.name,p=(s.departmentId,s.members);return console.log("got party data",u),r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(te,{title:m}),p&&p.map((function(e,t){return r.a.createElement(ee,{onClick:function(){return Object(d.navigate)("/person/".concat(e.personId))}},r.a.createElement("div",null,e.name))})))}return r.a.createElement("div",null)}function Pe(){var e=Object(b.a)(["\n  mutation DeleteParty($partyId: ID!) {\n    DeleteParty(partyId: $partyId) {\n      partyId\n    }\n  }\n"]);return Pe=function(){return e},e}function Ae(){var e=Object(b.a)(["\n  mutation UpdateParty($partyId: ID!, $name: String!,$color:String!, $logo:String!) {\n    UpdateParty(partyId: $partyId, name: $name, color:$color, logo: $logo) {\n      partyId\n      name\n      color\n      logo\n    }\n  }\n"]);return Ae=function(){return e},e}function xe(){var e=Object(b.a)(["\n  mutation CreateParty($name: String!, $color:String!, $logo:String, $partyId:ID!) {\n    CreateParty(name: $name, color:$color, logo: $logo, partyId: $partyId) {\n      name\n      color\n      logo\n      partyId\n    }\n  }\n"]);return xe=function(){return e},e}var $e=I()(xe()),Te=I()(Ae()),Le=I()(Pe());function Me(e){var t=Object(j.a)($e),n=Object(i.a)(t,1)[0],c=Object(j.a)(Te),o=Object(i.a)(c,1)[0],u=Object(j.a)(Le),s=Object(i.a)(u,1)[0],m=Object(a.useState)(e.name||""),d=Object(i.a)(m,2),p=d[0],f=d[1],g=Object(a.useState)(e.color||""),v=Object(i.a)(g,2),b=v[0],E=v[1],C=Object(a.useState)(e.logo||""),O=Object(i.a)(C,2),y=O[0],h=O[1],I=Object(a.useState)(e.partyId||""),N=Object(i.a)(I,2),w=N[0],k=N[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{onChange:function(e){return f(e.target.value)},value:p,placeholder:"Name"}),r.a.createElement(L,{onChange:function(e){return E(e.target.value)},value:b,placeholder:"Color"}),r.a.createElement(L,{onChange:function(e){return h(e.target.value)},value:y,placeholder:"Logo"}),r.a.createElement(L,{onChange:function(e){return k(e.target.value)},value:w,placeholder:"Logo"}),r.a.createElement("div",{className:"actionContainer"},r.a.createElement(U,{style:{marginLeft:"4px"},label:"Save",onClick:function(){e.partyId?(console.log("updating party"),o({variables:Object(l.a)({partyId:e.partyId,name:p,color:b,logo:y},"partyId",w)}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))):n({variables:{name:p,color:b,logo:y,partyId:w}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}}),r.a.createElement(U,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:e.onCancel}),r.a.createElement(U,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){s({variables:{partyId:e.partyId}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}})))}n(95);function Ue(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(j.b)(W),l=o.loading,u=o.error,s=o.data,m=o.refetch;return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(te,{title:"Political parties",onAdd:function(){return c(!0)}}),s&&s.Party&&s.Party.map((function(e,t){return r.a.createElement(ee,{key:t,onEdit:function(){return c(e)},onClick:function(){return Object(d.navigate)("party/".concat(e.partyId))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"logo",style:e.logo?{backgroundImage:"url(".concat(e.logo,")")}:{background:"#f2f2f2"}}),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,e.name),r.a.createElement("div",{className:"partyColor",style:{backgroundColor:e.color}}))))})),n&&r.a.createElement(M,null,r.a.createElement(Me,Object.assign({},n,{onCancel:function(){c(!1),m().then((function(e){}))}}))))}n(96);function Ve(){var e=Object(b.a)(["\n  query Person($personId: ID!) {\n    Person(personId: $personId) {\n      personId\n      name\n      party{\n        name\n        partyId\n      }\n      twitter\n      tweets\n      departments{\n        name\n        departmentId\n      }\n      image\n\n    }\n  }\n"]);return Ve=function(){return e},e}var Re=I()(Ve());function _e(e){var t=Object(j.b)(Re,{variables:{personId:e.id}}),n=t.loading,a=t.error,c=t.data;t.refetch;if(a)return r.a.createElement("p",null,"Error");if(n)return r.a.createElement("p",null,"Loading");if(c&&c.Person&&c.Person[0]){var o=c.Person[0],l=o.name,i=(o.departments,o.party,o.personId,o.tweets);return i=he(i),console.log("tweets",i),r.a.createElement("div",{className:"PersonContainer"},r.a.createElement(te,{title:l}),r.a.createElement(ne,null,i&&i.map((function(e,t){return r.a.createElement(T,Object.assign({},e,{key:t}))}))))}return console.log("no data",c),r.a.createElement("div",null)}var Fe=function(e){var t=Object(a.useContext)(m),n=Object(a.useState)("e149xb"),c=Object(i.a)(n,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"PostsContainer"},r.a.createElement("input",{value:o,onChange:function(e){return l(e.target.value.replace(/\s/g,"").toUpperCase())}}),r.a.createElement("div",{onClick:function(){ce.a.get("".concat(t.host,"/postcode?postcode=").concat(o),(function(e){console.log(e)}))}},"Submit"))};n(24);function Ke(){var e=Object(b.a)(["\n  mutation RemovePersonDepartments($personId: ID!, $departmentId:ID!) {\n    RemovePersonDepartments(from:{personId:$personId}, to:{departmentId: $departmentId} ){\n      from{\n        personId\n      }\n      to{\n        departmentId\n      }\n\n    }\n  }\n"]);return Ke=function(){return e},e}function Be(){var e=Object(b.a)(["\n  mutation RemovePersonParty($personId: ID!, $partyId:ID!) {\n    RemovePersonParty(from:{personId:$personId}, to:{partyId: $partyId} ){\n      from{\n        personId\n      }\n      to{\n        partyId\n      }\n\n    }\n  }\n"]);return Be=function(){return e},e}function qe(){var e=Object(b.a)(["\n  query Person($personId: ID!) {\n    Person(personId: $personId) {\n      personId\n      name\n      party{\n        name\n        partyId\n      }\n      twitter\n      departments{\n        name\n        departmentId\n      }\n      image\n\n    }\n  }\n"]);return qe=function(){return e},e}var Je,Qe=I()(qe()),We=I()(Be()),Ge=I()(Ke());function Ye(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),o=(c[0],c[1],Object(j.a)(We)),l=Object(i.a)(o,1)[0],u=Object(j.a)(Ge),s=Object(i.a)(u,1)[0],m=Object(a.useState)(!1),p=Object(i.a)(m,2),f=(p[0],p[1],Object(j.b)(Qe,{variables:{personId:e.id}})),g=f.loading,v=f.error,b=f.data,E=f.refetch;if(v)return r.a.createElement("p",null,"Error");if(g)return r.a.createElement("p",null,"Loading");if(b&&b.Person&&b.Person[0]){var C=b.Person[0],O=(C.name,C.departments),y=C.party,h=C.personId;return r.a.createElement("div",{className:"PersonContainer"},r.a.createElement(te,{title:"Party",secondary:!0}),y&&r.a.createElement(ee,null,r.a.createElement("div",{onClick:function(){return Object(d.navigate)("/party/".concat(y.partyId))}},r.a.createElement("p",null,y.name)),r.a.createElement("div",{className:"remove",onClick:function(){return function(e,t){l({variables:{partyId:e,personId:t}}).then((function(){E()}))}(y.partyId,h)}},r.a.createElement("img",{src:n(33)}))),!y&&r.a.createElement(z,{onComplete:function(){return E()},personId:h}),r.a.createElement(te,{title:"Departments",secondary:!0}),O&&O.map((function(e,t){return r.a.createElement(ee,{key:t},r.a.createElement("div",{onClick:function(){return Object(d.navigate)("/department/".concat(e.departmentId))}},r.a.createElement("p",null,e.name)),r.a.createElement("div",{className:"remove",onClick:function(){return function(e,t){console.log("removing",e,t),s({variables:{departmentId:e,personId:t}}).then((function(){E()}))}(e.departmentId,h)}},r.a.createElement("img",{src:n(33)})))})),r.a.createElement(Z,{title:"Add department",onComplete:function(){return E()},personId:h}))}return console.log("no data",b),r.a.createElement("div",null)}function He(e){var t=Object(a.useContext)(m),n=Object(a.useState)([]),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(j.a)(Y),s=Object(i.a)(u,1)[0],d=Object(j.a)(H),p=Object(i.a)(d,1)[0],f=Object(j.a)(X),g=Object(i.a)(f,1)[0],v=Object(j.a)(G),b=Object(i.a)(v,1)[0],E=Object(a.useState)(e.name||""),C=Object(i.a)(E,2),O=C[0],y=C[1],h=Object(a.useState)(e.image||""),I=Object(i.a)(h,2),N=I[0],w=I[1],k=Object(a.useState)(e.twitter||""),D=Object(i.a)(k,2),S=D[0],P=D[1],A=Object(a.useState)(e.jobTitle||""),x=Object(i.a)(A,2),$=x[0],T=x[1],M=Object(a.useState)(e.party||""),V=Object(i.a)(M,2),R=V[0],_=V[1],F=Object(a.useState)(e.personId||""),K=Object(i.a)(F,2),B=K[0],q=K[1];function J(n){function a(){n?e.onAddRelationships({personId:B}):e.onCancel()}e.personId?p({variables:{name:O,party:R,id:B,jobTitle:$,twitter:S,image:N}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()})):t.makeQuery(s,{variables:{name:O,id:B,jobTitle:$,twitter:S,image:N}}).then((function(){R||0===R?t.makeQuery(b,{variables:{partyId:R,personId:B}}).then((function(){a()})):a()})).catch((function(t){return e.onCancel()}))}return r.a.createElement(r.a.Fragment,null,e.isAdd&&r.a.createElement("div",{className:"searchPeople"},r.a.createElement(L,{onChange:function(e){return n=e.target.value,window.clearTimeout(Je),void(Je=setTimeout((function(){ce.a.get("".concat(t.host,"/member?name=").concat(n),(function(e){l(e.items)}))}),500));var n},placeholder:"Search member"}),r.a.createElement("div",{className:"searchPeopleContainer"},o&&o.map((function(e,t){return r.a.createElement("div",{className:"searchPersonContainer",onClick:function(){return y((t=e).value.nameDisplayAs),w(t.value.thumbnailUrl),q(t.value.id),void _(t.value.latestParty.id);var t}},r.a.createElement("div",{key:t,className:"searchPersonImageContainer",style:{backgroundImage:"url(".concat(e.value.thumbnailUrl,")")}}),r.a.createElement("p",null,e.value.nameDisplayAs))})))),r.a.createElement(L,{onChange:function(e){return y(e.target.value)},value:O,placeholder:"Name"}),r.a.createElement(L,{onChange:function(e){return _(e.target.value)},value:R,placeholder:"Party"}),r.a.createElement(L,{onChange:function(e){return P(e.target.value)},value:S,placeholder:"Twitter"}),r.a.createElement(L,{onChange:function(e){return T(e.target.value)},value:$,placeholder:"Job (If not politician)"}),r.a.createElement(L,{onChange:function(e){return w(e.target.value)},value:N,placeholder:"Image"}),r.a.createElement(L,{onChange:function(e){return q(e.target.value)},value:B,placeholder:"Id"}),e.isAdd&&r.a.createElement(U,{style:{marginLeft:"4px"},label:"Add relationships",onClick:function(){return J(!0)}}),r.a.createElement("div",{className:"actionContainer"},r.a.createElement(U,{style:{marginLeft:"4px"},label:"Save",onClick:function(){return J(!1)}}),r.a.createElement(U,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:e.onCancel}),r.a.createElement(U,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){g({variables:{personId:e.personId}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}})),!e.isAdd&&r.a.createElement(Ye,{id:B}))}function Xe(){var e=Object(b.a)(["\n{\n  Person{\n    personId\n    name\n    jobTitle\n    image\n    twitter\n    \n  }\n}"]);return Xe=function(){return e},e}var ze=I()(Xe());function Ze(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(j.b)(ze),l=o.loading,u=o.error,s=o.data,m=o.refetch,p=Object(a.useState)([]),f=Object(i.a)(p,2),g=f[0],v=f[1],b=Object(a.useState)(""),E=Object(i.a)(b,2),C=E[0],O=E[1];return Object(a.useEffect)((function(){return s&&s.Person&&v(s.Person),function(){}}),[s]),u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(te,{title:"People",onAdd:function(){return c("add")}}),r.a.createElement(L,{placeholder:"Search people",onChange:function(e){if(O(e.target.value),e.target.value.length<1)return v(s.Person);var t=Object.assign([],s.Person);v(t.filter((function(t){return t.name.toLowerCase().indexOf(e.target.value.toLowerCase())>-1})))},value:C}),g&&g.map((function(e,t){return r.a.createElement(ee,{key:t,onEdit:function(){return c(e)},onClick:function(){return Object(d.navigate)("person/".concat(e.personId))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"logo cover",style:e.image?{backgroundImage:"url(".concat(e.image,")")}:{border:"1px solid black"}}),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,e.name),r.a.createElement("p",{className:"subText"},e.jobTitle))))})),n&&r.a.createElement(M,null,r.a.createElement(He,Object.assign({},n,{isAdd:"add"===n,onCancel:function(){c(!1),m().then((function(e){}))},onAddRelationships:function(e){return c(e)}}))))}var et=function(){return r.a.createElement("div",{className:"homeContainer"},"404")},tt=(n(34),{"/":function(){return r.a.createElement(se,null)},"/departments":function(){return r.a.createElement(je,null)},"/department/:id":function(e){var t=e.id;return r.a.createElement(we,{id:t})},"/parties":function(){return r.a.createElement(Ue,null)},"/person/:id":function(e){var t=e.id;return r.a.createElement(_e,{id:t})},"/people":function(){return r.a.createElement(Ze,null)},"/party/:id":function(e){var t=e.id;return r.a.createElement(Se,{id:t})},"/postcode":function(){return r.a.createElement(de,null)},"/members":function(){return r.a.createElement(ie,null)},"/govt":function(){return r.a.createElement(le,null)},"/news":function(){return r.a.createElement(oe,null)},"/images":function(){return r.a.createElement(me,null)},"/posts":function(){return r.a.createElement(Fe,null)}}),nt=function(){return Object(d.useRoutes)(tt)||r.a.createElement(et,null)};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var rt="/api",ct={image:"",title:"",description:"",reactions:!0,voteId:!1,vote:!1,items:[]},ot=function(e){var t=Object(a.useRef)(null).current,n=Object(a.useState)(),c=Object(i.a)(n,2),o=c[0],u=c[1],m=Object(a.useState)(!1),d=Object(i.a)(m,2),p=d[0],f=d[1],g=Object(a.useState)(!1),b=Object(i.a)(g,2),E=b[0],C=b[1],O=Object(a.useState)(ct),y=Object(i.a)(O,2),j=y[0],h=y[1],I=Object(a.useState)(!1),N=Object(i.a)(I,2),w=N[0],k=N[1];function D(e){var n=document.elementFromPoint(e.clientX,e.clientY);if(n){var a=n.closest(".droppable");t!=a&&(t=a)&&k(!0)}}function S(e){var t=Object.assign([],j.items);t.push(e),j.items=t,h(j)}return r.a.createElement(s,{value:{makeQuery:function(e,t){return console.log("funcToCall",e),new Promise((function(n,a){e&&(f(!0),e(t).then((function(){n(),f(!1)})).catch((function(e){a()})))}))},loading:p,setLoading:f,host:rt,showArticle:E,setShowArticle:C,onDragStart:function(e){return u(e),!1},updateArticleKeyValue:function(e,t){console.log("changing",e,t);var n=Object.assign([],j);n[e]=t,h(n)},resetArticle:function(){Object.assign({},j),h(ct)},onDragEnd:function(){var e,t,n=Object.assign({},j);if(w)switch(k(!1),o.type){case"vote":var a="https://www.google.com/search?q=hansard%20"+encodeURIComponent(o.item.Title.replace(/[^\w\s]/gi,""));return console.log(a),n.title=o.item.Title,n.voteId=o.item.DivisionId,n.vote=o.item,n.type="vote",void h(n);case"image":return n.image=o.item.full,void h(n);case"member":return e=o.item,t=o.meta,void ce.a.get("".concat(rt,"/memberbyid?id=").concat(e),(function(e){S({type:"member",item:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.value,{},t)})}));default:return S(o)}},currentDroppable:t,onDragMouseDown:function(){document.addEventListener("drag",D)},onDragMouseUp:function(){document.removeEventListener("drag",D)},isDroppable:w,article:j}},r.a.createElement(v,null),r.a.createElement("div",{className:"appContentContainer"},r.a.createElement("div",{className:"routesContainer"},r.a.createElement(nt,null)),E&&r.a.createElement("div",{className:"articleContainer ".concat(E&&"show")},r.a.createElement(A,null))),p&&r.a.createElement("div",{className:"loading"}))},lt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function it(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ut=n(41),st=n(13),mt=new ut.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GRAPHQL_URI||"https://eloquent-chandrasekhar-a221ea.netlify.app/.netlify/functions/graphql"});o.a.render(r.a.createElement((function(){return r.a.createElement(st.a,{client:mt},r.a.createElement(ot,null))}),null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");lt?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):it(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):it(e)}))}}()}]),[[42,1,2]]]);
//# sourceMappingURL=main.96ad3043.chunk.js.map