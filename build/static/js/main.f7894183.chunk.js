(window["webpackJsonpweb-pa"]=window["webpackJsonpweb-pa"]||[]).push([[0],Array(18).concat([function(e,t,n){e.exports=n.p+"static/media/govt.c702dc1e.svg"},,,,,,function(e,t,n){},,,,,function(e,t,n){e.exports=n.p+"static/media/closeBlack.cb133e6e.svg"},function(e,t,n){e.exports=n.p+"static/media/add.d498c470.svg"},,function(e,t){},function(e,t,n){e.exports=n.p+"static/media/trash.58deec55.svg"},function(e,t,n){},,,,,,,,function(e,t,n){e.exports=n(97)},,,,,function(e,t,n){},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/members.dece2b40.svg"},function(e,t,n){e.exports=n.p+"static/media/images.28effef0.svg"},function(e,t,n){e.exports=n.p+"static/media/post.13e1259d.svg"},function(e,t,n){e.exports=n.p+"static/media/minus.c5518435.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/arrow.6a1af9a1.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/edit.7d394fbb.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(35),o=n.n(c),l=(n(47),n(19)),i=n(2),u=Object(a.createContext)({}),s=u.Provider,m=u,d=n(9),p=(n(58),n(59),function(e){var t=e.type,n=e.isVoid,c=e.meta,o=e.item,l=e.children,i=Object(a.useContext)(m);return n?r.a.createElement("div",null,l):r.a.createElement("div",{className:"DraggableTestContainer",draggable:"true",onMouseDown:function(){return i.onDragMouseDown()},onMouseUp:function(){return i.onDragMouseUp()},onDragEnd:function(){return i.onDragEnd()},onDragStart:function(){return i.onDragStart({type:t,item:o,meta:c})}},l)}),f=function(e){return r.a.createElement("div",{className:"VoteOuterContainer",onClick:function(){e.onClick&&e.onClick(e.index,e.DivisionId)}},r.a.createElement(p,Object.assign({type:"vote",item:e.item},{isVoid:e.draggableMembers}),r.a.createElement("div",{className:"VoteContainer"},r.a.createElement("p",{className:"title"},e.Title),r.a.createElement("p",{className:"date"},(t=e.Date,new Date(t).toUTCString())),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"For ",r.a.createElement("span",null,"(",e.AyeCount,")")),e.Ayes&&e.Ayes.map((function(e,t){return r.a.createElement("div",{key:t,className:"partyContainer"},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))})),e.AyeMembers&&e.AyeMembers.map((function(e,t){return r.a.createElement("div",{key:t,className:"memberVoteOverview"},r.a.createElement(p,{type:"member",item:e.MemberId,meta:{supporter:!0}},r.a.createElement("div",null,r.a.createElement("p",{className:"memberName"},e.Name),r.a.createElement("p",null,e.Party))))}))),r.a.createElement("div",{className:"tellersContainer"},r.a.createElement("p",{className:"title"},"Against ",r.a.createElement("span",null,"(",e.NoCount,")")),e.Noes&&e.Noes.map((function(e,t){return r.a.createElement("div",{key:t,className:"partyContainer"},r.a.createElement("p",{className:"partyName"},e.PartyName),r.a.createElement("p",{className:"partyVoteCount"},e.VoteCount))})),e.NoeMembers&&e.NoeMembers.map((function(e,t){return r.a.createElement("div",{key:t,className:"memberVoteOverview"},r.a.createElement(p,{type:"member",item:e.MemberId,meta:{supporter:!1}},r.a.createElement("div",null,r.a.createElement("p",{className:"memberName"},e.Name),r.a.createElement("p",null,e.Party))))}))),e.onClose&&r.a.createElement("div",{className:"voteClose",onClick:function(){return e.onClose()}},r.a.createElement("img",{src:n(29)})))));var t},v=(n(60),n(61),[{label:"Govt",route:"/govt",icon:n(18),submenu:[{label:"Departments",icon:n(18),route:"/departments"},{label:"Parties",icon:n(18),route:"/parties"},{label:"Votes",icon:n(18),route:"/govt"}]},{label:"People",route:"/people",icon:n(62)},{label:"Images",route:"/images",icon:n(63)},{label:"Posts",route:"/posts",icon:n(64)}]),g=function(){var e=Object(a.useContext)(m),t=Object(a.useState)(window.location.pathname),c=Object(i.a)(t,2),o=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"MenuPlaceholder"}),r.a.createElement("div",{className:"MenuContainer"},v&&v.map((function(e,t){return r.a.createElement("div",{key:t,className:"MenuItemContainer ".concat(e.route===o&&"isSelected"),onClick:function(){l(e.route),Object(d.navigate)(e.route)}},r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:e.icon}),r.a.createElement("p",null,e.label)),e.submenu&&r.a.createElement("div",{className:"subMenuOuterContainer"},r.a.createElement("div",{className:"submenu"},e.submenu.map((function(e,n){return r.a.createElement("div",{key:"".concat(t).concat(n),className:"SubMenuItemContainer ".concat(e.route===o&&"isSelected"),onClick:function(t){t.stopPropagation(),l(e.route),Object(d.navigate)(e.route)}},r.a.createElement("div",{className:"subimageContainer"},r.a.createElement("img",{src:e.icon}),r.a.createElement("p",null,e.label)))})))))})),r.a.createElement("div",{className:"PostController",onClick:function(){return e.setShowArticle(!e.showArticle)}},r.a.createElement("img",{key:e.showArticle,src:e.showArticle?n(65):n(30)}))))},b=(n(36),n(66),n(67),function(e){var t=e.text,n=(e.created_at,e.user),a=(e.item,n.profile_image_url_https),c=n.screen_name,o=n.name;return r.a.createElement("div",{className:"ArticleTweetContainer"},r.a.createElement("div",{className:"userContainer"},r.a.createElement("img",{src:a}),r.a.createElement("div",{className:"userMetaContainer"},r.a.createElement("p",{className:"userName"},o),r.a.createElement("p",{className:"userScreenName"},"@",c))),r.a.createElement("p",null,t))}),E=(n(68),function(e){return r.a.createElement("div",{className:"ArticleVoteContainer"},r.a.createElement("p",{className:"title"},e.Title),r.a.createElement("p",{className:"date"},(t=e.Date,new Date(t).toUTCString())),r.a.createElement("p",{className:"title"},"For ",r.a.createElement("span",null,"(",e.AyeCount,")")),r.a.createElement("p",{className:"title"},"Against ",r.a.createElement("span",null,"(",e.NoCount,")")));var t}),O=(n(69),function(e){var t=e.nameDisplayAs,n=e.thumbnailUrl,a=e.supporter,c=e.latestParty;return r.a.createElement("div",{className:"memberContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(n,")")}}),r.a.createElement("p",null,t),r.a.createElement("p",null,c.name),r.a.createElement("p",null,!0===a||!1===a?a?"Voted for":"Voted against":""))}),C=(n(70),function(e){var t=e.url,n=e.height,a=e.width;return r.a.createElement("div",{className:"imageCompOuter",style:{height:n,width:a}},r.a.createElement("div",{className:"imageComp",style:{backgroundImage:"url(".concat(t,")")}}))}),y=(n(71),n(5)),j=n(7),I=n(6),h=n.n(I);function N(){var e=Object(j.a)(["\n  mutation DeletePerson($personId: ID!) {\n    DeletePerson(personId: $personId) {\n      personId\n    }\n  }\n"]);return N=function(){return e},e}function w(){var e=Object(j.a)(["\n  mutation UpdatePerson($name: String!, $id: ID!, $jobTitle: String!, $twitter: String!, $image:String!) {\n    UpdatePerson(name: $name, personId: $id, jobTitle:$jobTitle, twitter:$twitter, image:$image) {\n      name\n      personId  \n      jobTitle\n      twitter\n      image\n    }\n  }\n"]);return w=function(){return e},e}function k(){var e=Object(j.a)(["\n  mutation CreatePerson($name: String!,  $id:ID!, $jobTitle: String!, $twitter: String!, $image:String!) {\n    CreatePerson(name: $name, personId: $id, jobTitle:$jobTitle, twitter:$twitter, image:$image) {\n      name\n      personId\n      jobTitle\n      twitter\n      image\n      \n    }\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(j.a)(["\n  mutation AddPersonParty($personId: ID!, $partyId:ID!) {\n    AddPersonParty(from:{personId:$personId}, to:{partyId: $partyId} ){\n      from{\n        personId\n      }\n      to{\n        partyId\n      }\n\n    }\n  }\n"]);return S=function(){return e},e}function D(){var e=Object(j.a)(["\n{\n  Party {\n    name\n    partyId\n    color\n    logo\n  }\n}"]);return D=function(){return e},e}function P(){var e=Object(j.a)(["\n  mutation AddPersonPDepartments($personId: ID!, $departmentId:ID!) {\n    AddPersonDepartments(from:{personId:$personId}, to:{departmentId: $departmentId} ){\n    \tfrom{\n    \t\tpersonId\n    \t}\n    \tto{\n    \t\tdepartmentId\n    \t}\n\n    }\n  }\n"]);return P=function(){return e},e}function A(){var e=Object(j.a)(["\n  mutation CreateIssue($name: String!) {\n    CreateIssue(name: $name) {\n      name\n    }\n  }\n"]);return A=function(){return e},e}function $(){var e=Object(j.a)(["\n{\n  Issue{\n    issueId\n    name\n  }\n}"]);return $=function(){return e},e}function x(){var e=Object(j.a)(["\n{\n  PolicyArea{\n    policyAreaId\n    name\n  }\n}"]);return x=function(){return e},e}function T(){var e=Object(j.a)(["\n{\n  Department {\n    name\n    departmentId\n  }\n}"]);return T=function(){return e},e}var L=h()(T()),U=h()(x()),M=h()($()),V=h()(A()),R=h()(P()),_=h()(D()),K=h()(S()),F=h()(k()),Q=h()(w()),B=h()(N()),G=function(e){var t=e.state,n=e.createIssue,a=t.article,c=(a.type,a.title),o=a.image,l=a.items,i=a.description,u=(a.voteId,a.vote),s=(a.reactions,a.policyAreas),m=a.issues;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,Object.assign({},u,{item:u})),r.a.createElement(Z,{onChange:function(e){return t.updateArticleKeyValue("title",e.target.value)},value:c,placeholder:"Title"}),r.a.createElement(Z,{onChange:function(e){return t.updateArticleKeyValue("image",e.target.value)},value:o,placeholder:"Image Url"}),r.a.createElement("div",{className:"articleImage2"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(o,")")},className:"img"})),r.a.createElement(Z,{type:"textarea",onChange:function(e){return t.updateArticleKeyValue("description",e.target.value)},value:i,placeholder:"Description"}),r.a.createElement(le,{title:"Policy areas",GET_QUERY:U,selected:s,setSelected:function(e){return t.updateArticleKeyValue("policyAreas",e)}}),r.a.createElement(le,{title:"Issues",createTag:n,GET_QUERY:M,selected:m,setSelected:function(e){return t.updateArticleKeyValue("issues",e)}}),l&&r.a.createElement(J,{items:l}))},q=function(e){var t=e.state,n=e.createIssue,a=t.article,c=(a.type,a.title),o=a.image,l=a.items,i=a.description,u=(a.voteId,a.vote,a.reactions),s=a.policyAreas,m=a.issues;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{onChange:function(e){return t.updateArticleKeyValue("title",e.target.value)},value:c,placeholder:"Title"}),r.a.createElement(Z,{onChange:function(e){return t.updateArticleKeyValue("image",e.target.value)},value:o,placeholder:"Image Url"}),r.a.createElement("div",{className:"articleImage2"},r.a.createElement("p",{className:"dragnDrop"},"Drag and drop image",r.a.createElement("br",null),"or paste URL above"),r.a.createElement("div",{style:{backgroundImage:"url(".concat(o,")")},className:"img"})),r.a.createElement(Z,{type:"textarea",onChange:function(e){return t.updateArticleKeyValue("description",e.target.value)},value:i,placeholder:"Description"}),r.a.createElement(le,{title:"Policy areas",GET_QUERY:U,selected:s,setSelected:function(e){return t.updateArticleKeyValue("policyAreas",e)}}),r.a.createElement(le,{title:"Issues",createTag:n,GET_QUERY:M,selected:m,setSelected:function(e){return t.updateArticleKeyValue("issues",e)}}),r.a.createElement(Z,{type:"checkbox",onChange:function(){return t.updateArticleKeyValue("reactions",!u)},value:u,placeholder:"Show final reactions"}),l&&r.a.createElement(J,{items:l}))},J=function(e){var t=e.items;return r.a.createElement("div",{className:"newArticlePlaceholder"},t.map((function(e,t){switch(e.type){case"tweet":return r.a.createElement(b,Object.assign({},e.item,{item:e.item,key:t,index:t}));case"vote":return r.a.createElement(E,Object.assign({},e.item,{item:e.item,key:t,index:t}));case"member":return r.a.createElement(O,Object.assign({},e.item,{item:e.item,key:t,index:t}));case"image":return r.a.createElement(C,Object.assign({},e.item,{url:e.item.regular,key:t,index:t}));default:return r.a.createElement("p",{key:t},e)}})))},W=function(e){e.onSave;var t=e.onCancel,n=(e.onDelete,e.articleId);return r.a.createElement("div",{className:"actionContainer"},r.a.createElement(te,{style:{marginLeft:"4px"},label:"Save",onClick:function(){}}),r.a.createElement(te,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:function(){return t()}}),n&&r.a.createElement(te,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){}}))},Y=function(){var e=Object(a.useContext)(m),t=Object(y.a)(V),n=Object(i.a)(t,1)[0],c=Object(a.useState)(!1),o=Object(i.a)(c,2),l=o[0],u=o[1],s=e.article,d=s.type,p=(s.title,s.image,s.description,s.voteId,s.vote,s.reactions,s.articleId);function f(){e.resetArticle()}function v(){}function g(){}return d?"vote"===d?r.a.createElement("div",{className:"ArticleContainer ".concat(l&&"isExpanded"," droppable ").concat(e.isDroppable&&"isActiveDroppable"),onClick:function(){return u(!l)},onDragOver:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"ArticleInnerContainer"},r.a.createElement(G,{state:e,createIssue:n}),r.a.createElement(W,{articleId:p,onSave:g,onCancel:f,onDelete:v}))):r.a.createElement("div",{className:"ArticleContainer ".concat(l&&"isExpanded"," droppable ").concat(e.isDroppable&&"isActiveDroppable"),onClick:function(){return u(!l)},onDragOver:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"ArticleInnerContainer"},r.a.createElement(q,{state:e,createIssue:n}),r.a.createElement(W,{articleId:p,onSave:g,onCancel:f,onDelete:v}))):r.a.createElement("div",{className:"ArticleContainer ".concat(l&&"isExpanded"," droppable ").concat(e.isDroppable&&"isActiveDroppable"),onClick:function(){return u(!l)},onDragOver:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"ArticleInnerContainer"},r.a.createElement("p",null,"Drag and drop vote here or"),r.a.createElement(te,{label:"Create new article",onClick:function(){return e.updateArticleKeyValue("type","general")}})))},H=(n(74),function(e){var t=e.value,a=e.onChange,c=e.onSubmit,o=e.placeholder;return r.a.createElement("div",{className:"inputOuterContainer"},r.a.createElement("div",{className:"inputContainer"},r.a.createElement("input",{type:"text",value:t,onChange:a,placeholder:o,onKeyDown:function(e){13===e.keyCode&&c()}}),r.a.createElement("div",{className:"submit",onClick:function(){return c()}},r.a.createElement("img",{src:n(75)}))))}),X=(n(76),function(e){var t=e.onClick,n=e.name,a=e.index,c=e.text,o=e.isSelected;return r.a.createElement("div",{className:"TrendContainer ".concat(o&&"isSelected"),onClick:function(){return t(a)}},r.a.createElement("p",null,n||c))}),z=(n(77),function(e){var t=e.text,n=(e.created_at,e.user),a=e.item,c=n.profile_image_url_https,o=n.screen_name,l=n.name;return r.a.createElement("div",{className:"tweetOuterContainer"},r.a.createElement(p,{type:"tweet",item:a},r.a.createElement("div",{className:"TweetContainer"},r.a.createElement("div",{className:"userContainer"},r.a.createElement("img",{src:c}),r.a.createElement("div",{className:"userMetaContainer"},r.a.createElement("p",{className:"userName"},l),r.a.createElement("p",{className:"userScreenName"},"@",o))),r.a.createElement("p",null,t))))}),Z=(n(78),function(e){var t=e.onChange,n=e.value,a=e.placeholder,c=e.hideLabel,o=e.type,l=e.options,i=e.style;return r.a.createElement("div",null,!c&&r.a.createElement("label",null,a),(!o||"textinput"===o)&&r.a.createElement("input",{className:"textInput",placeholder:c?a:"",onChange:t,value:n,style:i||{}}),o&&"textarea"===o&&r.a.createElement("textarea",{className:"textArea",onChange:t,value:n,style:i||{}}),o&&"dropdown"===o&&r.a.createElement("select",null,l&&l.map((function(e,t){return r.a.createElement("option",{value:e.toLowerCase()},e)}))),o&&"checkbox"===o&&r.a.createElement("div",{className:"toggleOuter ".concat(n&&"on"),onClick:t},r.a.createElement("div",{className:"toggleInner"})))}),ee=(n(79),function(e){var t=e.children;e.onCancel,e.onSave,e.onDelete;return r.a.createElement("div",{className:"editModalOuter"},r.a.createElement("div",{className:"editModalFalseInner"},r.a.createElement("div",{className:"editModalInner",onClick:function(){}},t)))}),te=(n(80),function(e){var t=e.secondary,n=e.tirshary,a=e.label,c=e.warning,o=e.onClick,l=e.style;return r.a.createElement("div",{style:l||{},className:"ButtonContainer ".concat(t&&"secondary"," ").concat(n&&"tirshary"," ").concat(c&&"warning"),onClick:o},r.a.createElement("p",null,a))}),ne=(n(81),function(e){e.title;var t=e.personId,n=e.onComplete,c=Object(a.useContext)(m),o=Object(y.b)(_),l=o.loading,u=o.error,s=o.data,d=(o.refetch,Object(y.a)(K)),p=Object(i.a)(d,1)[0];return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"chooseItemContainer"},s&&s.Party&&s.Party.map((function(e,a){return r.a.createElement(re,{key:a},r.a.createElement("div",{onClick:function(){return function(e){c.makeQuery(p,{variables:{partyId:e.partyId,personId:t}}).then((function(e){n()}))}(e)}},r.a.createElement("p",null,e.name)))})))}),ae=(n(82),function(e){e.title;var t=e.personId,n=e.onComplete,c=Object(a.useContext)(m),o=Object(y.b)(L),l=o.loading,u=o.error,s=o.data,d=(o.refetch,Object(y.a)(R)),p=Object(i.a)(d,1)[0];return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"chooseItemContainer"},r.a.createElement(ce,{title:"Add department",secondary:!0}),s&&s.Department&&s.Department.map((function(e,a){return r.a.createElement(re,null,r.a.createElement("div",{onClick:function(){return function(e){c.makeQuery(p,{variables:{departmentId:e.departmentId,personId:t}}).then((function(){n()}))}(e)}},r.a.createElement("p",null,e.name)))})))}),re=(n(83),function(e){var t=e.children,a=e.onEdit,c=e.onClick;return r.a.createElement("div",{className:"rowItem ".concat(c&&"actionable"),onClick:c},t,a&&r.a.createElement("div",{className:"editContainer",onClick:function(e){e.stopPropagation(),a()}},r.a.createElement("img",{src:n(84)})))}),ce=(n(85),function(e){var t=e.title,a=e.onAdd,c=e.secondary;return r.a.createElement("div",{className:"sectionTitleContainer ".concat(c&&"secondary")},r.a.createElement("p",null,t),a&&r.a.createElement("div",{className:"addButtonContainer",onClick:a},r.a.createElement("img",{src:n(30)})))}),oe=(n(32),n(86),function(e){var t=e.children;return r.a.createElement("div",{className:"railContainer"},t)}),le=(n(87),function(e){var t=e.title,c=e.createTag,o=e.selected,l=e.setSelected,u=e.GET_QUERY,s=Object(y.b)(u),m=s.loading,d=s.error,p=s.data,f=s.refetch,v=Object(a.useState)(!1),g=Object(i.a)(v,2),b=g[0],E=g[1],O=Object(a.useState)(!1),C=Object(i.a)(O,2),j=C[0],I=C[1],h=Object(a.useState)(""),N=Object(i.a)(h,2),w=N[0],k=N[1],S=Object(a.useState)([]),D=Object(i.a)(S,2),P=D[0],A=D[1],$=P.filter((function(e){return o.indexOf(e[j])<0&&e.name.toLowerCase().indexOf(w.toLowerCase())>-1}));function x(e){var t=Object.assign([],o);t.push(e),l(t)}return Object(a.useEffect)((function(){if(p){var e=Object.keys(p);if(A(p[e]),function(e){if(e){var t=Object.keys(e).find((function(e){return"Id"===e.slice(-2)}));I(t)}else console.log("NO ITEM")}(p[e][0]),w.length>0)x(p[e].find((function(e){return e.name===w}))[j]),E(!1),k("")}}),[p]),r.a.createElement("div",{className:"tagOuterContainer"},r.a.createElement("p",{className:"title"},t),r.a.createElement("div",{className:"tagContainer"},r.a.createElement(Z,{style:{border:"none",margin:0},hideLabel:!0,placeholder:c?"Search or create new tag":"Search",onChange:function(e){return k(e.target.value)},value:w}),r.a.createElement("div",{className:"bottomContainer"},!m&&!b&&!d&&r.a.createElement(r.a.Fragment,null,o.length>0&&r.a.createElement("div",{className:"selectedContainer"},o.map((function(e,t){var a=P.find((function(t){return t[j]===e}));return r.a.createElement("div",{className:"selectedTagOuterContainer",key:t,onClick:function(e){e.stopPropagation(),function(e){var t=Object.assign([],o);t.splice(e,1),l(t)}(t)}},r.a.createElement("p",null,a.name),r.a.createElement("img",{src:n(29)}))}))),r.a.createElement("div",{className:"unselectedContainer"},$.map((function(e,t){return r.a.createElement("div",{className:"unselectedTagOuterContainer",key:t,onClick:function(t){t.stopPropagation(),x(e[j])}},r.a.createElement("p",null,e.name))})),0===$.length&&w.length>0&&c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"title noTagsFound"},"No tags found"),r.a.createElement("div",{className:"unselectedTagOuterContainer",onClick:function(e){e.stopPropagation(),E(!0),c({variables:{name:w}}).then((function(e){f()})).catch((function(e){console.log("error in create")}))}},r.a.createElement("p",null,'Create tag "'.concat(w,'"')))))))))});function ie(){var e=Object(j.a)(["\nquery{\n  Person{\n  \tpersonId\n    name\n  }\n}"]);return ie=function(){return e},e}h()(ie());var ue=n(8),se=n.n(ue),me=(n(88),function(){var e=Object(a.useContext)(m),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),s=u[0],d=u[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),v=f[0],g=f[1];function b(e){return new Date(e).toUTCString()}return Object(a.useEffect)((function(){return console.log("getting news"),se.a.get("".concat(e.host,"/news"),(function(e){o(e.articles)})),function(){}}),[]),r.a.createElement("div",{className:"newsContainer ".concat(v&&"isSelected")},r.a.createElement(H,{onSubmit:function(){se.a.get("".concat(e.host,"/news?s=").concat(s),(function(e){o(e.articles)}))},placeholder:"Search keyword",onChange:function(e){return d(e.target.value)},value:s}),r.a.createElement("div",{className:"newsInnerContainer"},c&&c.map((function(e,t){return r.a.createElement("div",{className:"newsArticle",onClick:function(){console.log("selecting item",e),g(e)}},r.a.createElement("div",{className:"newsArticleInner"},r.a.createElement("div",{className:"imageOuterContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(e.urlToImage,")")}})),r.a.createElement("p",{className:"title"},e.title),r.a.createElement("p",{className:"description"},e.description),r.a.createElement("p",{className:"source"},e.source.name),r.a.createElement("p",{className:"publishedDate"},b(e.publishedAt))))}))),v&&r.a.createElement("div",{className:"selectedArticle"},r.a.createElement("div",{className:"newsArticle",onClick:function(){return g(!1)}},r.a.createElement("div",{className:"newsArticleInner"},r.a.createElement("div",{className:"imageOuterContainer"},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(v.urlToImage,")")}})),r.a.createElement("p",{className:"title"},v.title),r.a.createElement("p",{className:"description"},v.description),r.a.createElement("p",{className:"description"},v.content),r.a.createElement("p",{className:"source"},v.source.name),r.a.createElement("p",{className:"publishedDate"},b(v.publishedAt))))))}),de=function(e){var t=Object(a.useContext)(m),n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(!1),s=Object(i.a)(u,2),d=s[0],p=s[1];function v(e,n){var a=Object.assign({},o[e]);se.a.get("".concat(t.host,"/division?id=").concat(n),(function(e){console.log("got vote "),a.AyeMembers=e.Ayes,a.NoeMembers=e.Noes,p(a)}))}return Object(a.useEffect)((function(){return se.a.get("".concat(t.host,"/divisions"),(function(e){console.log("got divisions",e),l(e.reverse())})),function(){}}),[]),r.a.createElement("div",{className:"ParliamentContainer"},r.a.createElement(ce,{title:"Recent votes"}),!d&&o&&o.map((function(e,t){return r.a.createElement(f,Object.assign({item:e,index:t,key:t},e,{onClick:v}))})),d&&r.a.createElement("div",null,r.a.createElement(f,Object.assign({draggableMembers:!0,item:d},d,{onClose:function(){return p(!1)}}))))},pe=(n(89),function(){var e=Object(a.useContext)(m),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),s=u[0],d=u[1];return Object(a.useEffect)((function(){return function(){}}),[]),r.a.createElement("div",{className:"membersContainer "},r.a.createElement(H,{onSubmit:function(){se.a.get("".concat(e.host,"/member?name=").concat(s),(function(e){console.log("got members",e),o(e.items)}))},placeholder:"Search member name",onChange:function(e){return d(e.target.value)},value:s}),r.a.createElement("div",{className:"membersInnerContainer"},c&&c.map((function(e,t){return r.a.createElement(p,{type:"member",item:e.value.id},r.a.createElement(O,Object.assign({},e.value,{key:t})))}))))}),fe=[{name:"London",id:44418},{name:"New York",id:2459115},{name:"Los Angeles",id:2442047},{name:"Washington DC",id:2514590},{name:"Berlin",id:638243},{name:"Madrid",id:766273},{name:"Rome",id:721943},{name:"Paris",id:615702},{name:"Moscow",id:2122265},{name:"Istanbul",id:2344116},{name:"Warsaw",id:523920},{name:"Vienna",id:551801},{name:"Prague",id:796597}],ve=(n(90),function(e){var t=Object(a.useContext)(m),n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(!1),s=Object(i.a)(u,2),d=s[0],p=s[1],f=Object(a.useState)(!1),v=Object(i.a)(f,2),g=v[0],b=v[1],E=Object(a.useState)(""),O=Object(i.a)(E,2),C=O[0],y=O[1],j=Object(a.useState)(!1),I=Object(i.a)(j,2),h=I[0],N=I[1];function w(e){p(e),se.a.get("".concat(t.host,"/twittersearch?s=").concat(o[e].name.replace("#","")),(function(e){console.log(e),N(e)}))}function k(e){console.log("setting ",e,fe[e]),b(e),p(!1),se.a.get("".concat(t.host,"/twittertrends?s=").concat(fe[e].id),(function(e){l(e)}))}return Object(a.useEffect)((function(){return function(){}}),[]),r.a.createElement("div",{className:"SocialContainer"},r.a.createElement(H,{onSubmit:function(){se.a.get("".concat(t.host,"/twittersearch?s=").concat(C),(function(e){b(!1),p(!1),N(e)}))},placeholder:"Search keyword",onChange:function(e){return y(e.target.value)},value:C}),r.a.createElement("div",{className:"PlacesContainer"},fe&&fe.map((function(e,t){return r.a.createElement(X,Object.assign({isSelected:t===g,index:t,key:t},e,{onClick:k}))}))),r.a.createElement("div",{className:"TrendsContainer"},(g||0===g)&&o&&o.map((function(e,t){return r.a.createElement(X,Object.assign({isSelected:t===d,index:t,key:t},e,{onClick:w}))}))),r.a.createElement("div",{className:"TweetsContainer"},h&&h.map((function(e,t){return r.a.createElement(z,Object.assign({item:e,isSelected:t===d,index:t,key:t},e,{onClick:w}))}))))}),ge=(n(91),function(e){var t=Object(a.useContext)(m),n=Object(a.useState)(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),d=s[0],f=s[1];return Object(a.useEffect)((function(){return se.a.get("".concat(t.host,"/photos"),(function(e){l(JSON.parse(e))})),function(){}}),[]),r.a.createElement("div",{className:"ImagesContainer"},r.a.createElement(H,{onSubmit:function(){se.a.get("".concat(t.host,"/photos?s=").concat(d),(function(e){console.log("res",JSON.parse(e)),l(JSON.parse(e).results)}))},placeholder:"Search keyword",onChange:function(e){return f(e.target.value)},value:d}),o&&o.map((function(e,t){return r.a.createElement("div",{className:"imageOuterContainerHalf"},r.a.createElement(p,{type:"image",item:e.urls},r.a.createElement(C,{url:e.urls.regular,key:t})))})))}),be=function(e){var t=Object(a.useContext)(m),n=Object(a.useState)("e149xb"),c=Object(i.a)(n,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"homeContainer"},r.a.createElement("input",{value:o,onChange:function(e){return l(e.target.value.replace(/\s/g,"").toUpperCase())}}),r.a.createElement("div",{onClick:function(){se.a.get("".concat(t.host,"/postcode?postcode=").concat(o),(function(e){console.log(e)}))}},"Submit"))};function Ee(){var e=Object(j.a)(["\n  mutation DeleteDepartment($departmentId: ID!) {\n    DeleteDepartment(departmentId: $departmentId) {\n      departmentId\n    }\n  }\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(j.a)(["\n  mutation UpdateDepartment($departmentId: ID!, $name: String!) {\n    UpdateDepartment(departmentId: $departmentId, name: $name) {\n      departmentId\n      name\n    }\n  }\n"]);return Oe=function(){return e},e}function Ce(){var e=Object(j.a)(["\n  mutation CreateDepartment($name: String!) {\n    CreateDepartment(name: $name) {\n      name\n    }\n  }\n"]);return Ce=function(){return e},e}var ye=h()(Ce()),je=h()(Oe()),Ie=h()(Ee());function he(e){var t=Object(y.a)(ye),n=Object(i.a)(t,1)[0],c=Object(y.a)(je),o=Object(i.a)(c,1)[0],l=Object(y.a)(Ie),u=Object(i.a)(l,1)[0],s=Object(a.useState)(e.name||""),m=Object(i.a)(s,2),d=m[0],p=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{onChange:function(e){return p(e.target.value)},value:d,placeholder:"Name"}),r.a.createElement("div",{className:"actionContainer"},r.a.createElement(te,{style:{marginLeft:"4px"},label:"Save",onClick:function(){console.log(e),e.departmentId?o({variables:{departmentId:e.departmentId,name:d}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()})):n({variables:{name:d}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}}),r.a.createElement(te,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:e.onCancel}),r.a.createElement(te,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){u({variables:{departmentId:e.departmentId}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}})))}n(92);function Ne(){var e=Object(j.a)(["\n{\n  Department {\n    name\n    departmentId\n  }\n}"]);return Ne=function(){return e},e}var we=h()(Ne());function ke(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(y.b)(we),l=o.loading,u=o.error,s=o.data,m=o.refetch;return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(ce,{title:"Government departments",onAdd:function(){return c(!0)}}),s&&s.Department&&s.Department.map((function(e,t){return r.a.createElement(re,{onEdit:function(){return c(e)},onClick:function(){return Object(d.navigate)("department/".concat(e.departmentId))}},r.a.createElement("p",{className:"departmentTitle"},e.name))})),n&&r.a.createElement(ee,null,r.a.createElement(he,Object.assign({},n,{onCancel:function(){c(!1),m().then((function(e){}))}}))))}var Se=function(e){console.log(e);try{return console.log("converting",e),JSON.parse(e)}catch(t){return!1}};n(93);function De(){var e=Object(j.a)(["\n  query Department($departmentId: ID!) {\n    Department(departmentId: $departmentId) {\n      departmentId\n      name\n      people{\n        name\n        personId\n        twitter\n        tweets\n      }\n    }\n  }\n"]);return De=function(){return e},e}var Pe=h()(De());function Ae(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=(n[0],n[1],Object(y.b)(Pe,{variables:{departmentId:e.id}})),o=c.loading,l=c.error,u=c.data;c.refetch;if(l)return r.a.createElement("p",null,"Error");if(o)return r.a.createElement("p",null,"Loading");var s=u.Department[0],m=s.name,p=s.people;s.departmentId;return console.log("got department data",u),r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(ce,{title:m}),p&&p.map((function(e,t){var n=Se(e.tweets);return r.a.createElement(re,{onClick:function(){return Object(d.navigate)("/person/".concat(e.personId))}},r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"marginBottom"},e.name),r.a.createElement(oe,null,n&&n.map((function(e,t){return r.a.createElement(z,Object.assign({},e,{key:t}))})))))})))}n(94);function $e(){var e=Object(j.a)(["\n  query Party($partyId: ID!) {\n    Party(partyId: $partyId) {\n     partyId\n      name\n      members{\n        name\n        personId\n      }\n    }\n  }\n"]);return $e=function(){return e},e}var xe=h()($e());function Te(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=(n[0],n[1],Object(y.b)(xe,{variables:{partyId:e.id}})),o=c.loading,l=c.error,u=c.data;c.refetch;if(l)return r.a.createElement("p",null,"Error");if(o)return r.a.createElement("p",null,"Loading");if(u&&u.Party&&u.Party[0]){var s=u.Party[0],m=s.name,p=(s.departmentId,s.members);return console.log("got party data",u),r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(ce,{title:m}),p&&p.map((function(e,t){return r.a.createElement(re,{onClick:function(){return Object(d.navigate)("/person/".concat(e.personId))}},r.a.createElement("div",null,e.name))})))}return r.a.createElement("div",null)}function Le(){var e=Object(j.a)(["\n  mutation DeleteParty($partyId: ID!) {\n    DeleteParty(partyId: $partyId) {\n      partyId\n    }\n  }\n"]);return Le=function(){return e},e}function Ue(){var e=Object(j.a)(["\n  mutation UpdateParty($partyId: ID!, $name: String!,$color:String!, $logo:String!) {\n    UpdateParty(partyId: $partyId, name: $name, color:$color, logo: $logo) {\n      partyId\n      name\n      color\n      logo\n    }\n  }\n"]);return Ue=function(){return e},e}function Me(){var e=Object(j.a)(["\n  mutation CreateParty($name: String!, $color:String!, $logo:String, $partyId:ID!) {\n    CreateParty(name: $name, color:$color, logo: $logo, partyId: $partyId) {\n      name\n      color\n      logo\n      partyId\n    }\n  }\n"]);return Me=function(){return e},e}var Ve=h()(Me()),Re=h()(Ue()),_e=h()(Le());function Ke(e){var t=Object(y.a)(Ve),n=Object(i.a)(t,1)[0],c=Object(y.a)(Re),o=Object(i.a)(c,1)[0],u=Object(y.a)(_e),s=Object(i.a)(u,1)[0],m=Object(a.useState)(e.name||""),d=Object(i.a)(m,2),p=d[0],f=d[1],v=Object(a.useState)(e.color||""),g=Object(i.a)(v,2),b=g[0],E=g[1],O=Object(a.useState)(e.logo||""),C=Object(i.a)(O,2),j=C[0],I=C[1],h=Object(a.useState)(e.partyId||""),N=Object(i.a)(h,2),w=N[0],k=N[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{onChange:function(e){return f(e.target.value)},value:p,placeholder:"Name"}),r.a.createElement(Z,{onChange:function(e){return E(e.target.value)},value:b,placeholder:"Color"}),r.a.createElement(Z,{onChange:function(e){return I(e.target.value)},value:j,placeholder:"Logo"}),r.a.createElement(Z,{onChange:function(e){return k(e.target.value)},value:w,placeholder:"Logo"}),r.a.createElement("div",{className:"actionContainer"},r.a.createElement(te,{style:{marginLeft:"4px"},label:"Save",onClick:function(){e.partyId?(console.log("updating party"),o({variables:Object(l.a)({partyId:e.partyId,name:p,color:b,logo:j},"partyId",w)}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))):n({variables:{name:p,color:b,logo:j,partyId:w}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}}),r.a.createElement(te,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:e.onCancel}),r.a.createElement(te,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){s({variables:{partyId:e.partyId}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}})))}n(95);function Fe(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(y.b)(_),l=o.loading,u=o.error,s=o.data,m=o.refetch;return u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(ce,{title:"Political parties",onAdd:function(){return c(!0)}}),s&&s.Party&&s.Party.map((function(e,t){return r.a.createElement(re,{key:t,onEdit:function(){return c(e)},onClick:function(){return Object(d.navigate)("party/".concat(e.partyId))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"logo",style:e.logo?{backgroundImage:"url(".concat(e.logo,")")}:{background:"#f2f2f2"}}),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,e.name),r.a.createElement("div",{className:"partyColor",style:{backgroundColor:e.color}}))))})),n&&r.a.createElement(ee,null,r.a.createElement(Ke,Object.assign({},n,{onCancel:function(){c(!1),m().then((function(e){}))}}))))}n(96);function Qe(){var e=Object(j.a)(["\n  query Person($personId: ID!) {\n    Person(personId: $personId) {\n      personId\n      name\n      party{\n        name\n        partyId\n      }\n      twitter\n      tweets\n      departments{\n        name\n        departmentId\n      }\n      image\n\n    }\n  }\n"]);return Qe=function(){return e},e}var Be=h()(Qe());function Ge(e){var t=Object(y.b)(Be,{variables:{personId:e.id}}),n=t.loading,a=t.error,c=t.data;t.refetch;if(a)return r.a.createElement("p",null,"Error");if(n)return r.a.createElement("p",null,"Loading");if(c&&c.Person&&c.Person[0]){var o=c.Person[0],l=o.name,i=(o.departments,o.party,o.personId,o.tweets);return i=Se(i),console.log("tweets",i),r.a.createElement("div",{className:"PersonContainer"},r.a.createElement(ce,{title:l}),r.a.createElement(oe,null,i&&i.map((function(e,t){return r.a.createElement(z,Object.assign({},e,{key:t}))}))))}return console.log("no data",c),r.a.createElement("div",null)}var qe=function(e){var t=Object(a.useContext)(m),n=Object(a.useState)("e149xb"),c=Object(i.a)(n,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"PostsContainer"},r.a.createElement("input",{value:o,onChange:function(e){return l(e.target.value.replace(/\s/g,"").toUpperCase())}}),r.a.createElement("div",{onClick:function(){se.a.get("".concat(t.host,"/postcode?postcode=").concat(o),(function(e){console.log(e)}))}},"Submit"))};n(24);function Je(){var e=Object(j.a)(["\n  mutation RemovePersonDepartments($personId: ID!, $departmentId:ID!) {\n    RemovePersonDepartments(from:{personId:$personId}, to:{departmentId: $departmentId} ){\n      from{\n        personId\n      }\n      to{\n        departmentId\n      }\n\n    }\n  }\n"]);return Je=function(){return e},e}function We(){var e=Object(j.a)(["\n  mutation RemovePersonParty($personId: ID!, $partyId:ID!) {\n    RemovePersonParty(from:{personId:$personId}, to:{partyId: $partyId} ){\n      from{\n        personId\n      }\n      to{\n        partyId\n      }\n\n    }\n  }\n"]);return We=function(){return e},e}function Ye(){var e=Object(j.a)(["\n  query Person($personId: ID!) {\n    Person(personId: $personId) {\n      personId\n      name\n      party{\n        name\n        partyId\n      }\n      twitter\n      departments{\n        name\n        departmentId\n      }\n      image\n\n    }\n  }\n"]);return Ye=function(){return e},e}var He,Xe=h()(Ye()),ze=h()(We()),Ze=h()(Je());function et(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),o=(c[0],c[1],Object(y.a)(ze)),l=Object(i.a)(o,1)[0],u=Object(y.a)(Ze),s=Object(i.a)(u,1)[0],m=Object(a.useState)(!1),p=Object(i.a)(m,2),f=(p[0],p[1],Object(y.b)(Xe,{variables:{personId:e.id}})),v=f.loading,g=f.error,b=f.data,E=f.refetch;if(g)return r.a.createElement("p",null,"Error");if(v)return r.a.createElement("p",null,"Loading");if(b&&b.Person&&b.Person[0]){var O=b.Person[0],C=(O.name,O.departments),j=O.party,I=O.personId;return r.a.createElement("div",{className:"PersonContainer"},r.a.createElement(ce,{title:"Party",secondary:!0}),j&&r.a.createElement(re,null,r.a.createElement("div",{onClick:function(){return Object(d.navigate)("/party/".concat(j.partyId))}},r.a.createElement("p",null,j.name)),r.a.createElement("div",{className:"remove",onClick:function(){return function(e,t){l({variables:{partyId:e,personId:t}}).then((function(){E()}))}(j.partyId,I)}},r.a.createElement("img",{src:n(33)}))),!j&&r.a.createElement(ne,{onComplete:function(){return E()},personId:I}),r.a.createElement(ce,{title:"Departments",secondary:!0}),C&&C.map((function(e,t){return r.a.createElement(re,{key:t},r.a.createElement("div",{onClick:function(){return Object(d.navigate)("/department/".concat(e.departmentId))}},r.a.createElement("p",null,e.name)),r.a.createElement("div",{className:"remove",onClick:function(){return function(e,t){console.log("removing",e,t),s({variables:{departmentId:e,personId:t}}).then((function(){E()}))}(e.departmentId,I)}},r.a.createElement("img",{src:n(33)})))})),r.a.createElement(ae,{title:"Add department",onComplete:function(){return E()},personId:I}))}return console.log("no data",b),r.a.createElement("div",null)}function tt(e){var t=Object(a.useContext)(m),n=Object(a.useState)([]),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(y.a)(F),s=Object(i.a)(u,1)[0],d=Object(y.a)(Q),p=Object(i.a)(d,1)[0],f=Object(y.a)(B),v=Object(i.a)(f,1)[0],g=Object(y.a)(K),b=Object(i.a)(g,1)[0],E=Object(a.useState)(e.name||""),O=Object(i.a)(E,2),C=O[0],j=O[1],I=Object(a.useState)(e.image||""),h=Object(i.a)(I,2),N=h[0],w=h[1],k=Object(a.useState)(e.twitter||""),S=Object(i.a)(k,2),D=S[0],P=S[1],A=Object(a.useState)(e.jobTitle||""),$=Object(i.a)(A,2),x=$[0],T=$[1],L=Object(a.useState)(e.party||""),U=Object(i.a)(L,2),M=U[0],V=U[1],R=Object(a.useState)(e.personId||""),_=Object(i.a)(R,2),G=_[0],q=_[1];function J(n){function a(){n?e.onAddRelationships({personId:G}):e.onCancel()}e.personId?p({variables:{name:C,party:M,id:G,jobTitle:x,twitter:D,image:N}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()})):t.makeQuery(s,{variables:{name:C,id:G,jobTitle:x,twitter:D,image:N}}).then((function(){M||0===M?t.makeQuery(b,{variables:{partyId:M,personId:G}}).then((function(){a()})):a()})).catch((function(t){return e.onCancel()}))}return r.a.createElement(r.a.Fragment,null,e.isAdd&&r.a.createElement("div",{className:"searchPeople"},r.a.createElement(Z,{onChange:function(e){return n=e.target.value,window.clearTimeout(He),void(He=setTimeout((function(){se.a.get("".concat(t.host,"/member?name=").concat(n),(function(e){l(e.items)}))}),500));var n},placeholder:"Search member"}),r.a.createElement("div",{className:"searchPeopleContainer"},o&&o.map((function(e,t){return r.a.createElement("div",{className:"searchPersonContainer",onClick:function(){return j((t=e).value.nameDisplayAs),w(t.value.thumbnailUrl),q(t.value.id),void V(t.value.latestParty.id);var t}},r.a.createElement("div",{key:t,className:"searchPersonImageContainer",style:{backgroundImage:"url(".concat(e.value.thumbnailUrl,")")}}),r.a.createElement("p",null,e.value.nameDisplayAs))})))),r.a.createElement(Z,{onChange:function(e){return j(e.target.value)},value:C,placeholder:"Name"}),r.a.createElement(Z,{onChange:function(e){return V(e.target.value)},value:M,placeholder:"Party"}),r.a.createElement(Z,{onChange:function(e){return P(e.target.value)},value:D,placeholder:"Twitter"}),r.a.createElement(Z,{onChange:function(e){return T(e.target.value)},value:x,placeholder:"Job (If not politician)"}),r.a.createElement(Z,{onChange:function(e){return w(e.target.value)},value:N,placeholder:"Image"}),r.a.createElement(Z,{onChange:function(e){return q(e.target.value)},value:G,placeholder:"Id"}),e.isAdd&&r.a.createElement(te,{style:{marginLeft:"4px"},label:"Add relationships",onClick:function(){return J(!0)}}),r.a.createElement("div",{className:"actionContainer"},r.a.createElement(te,{style:{marginLeft:"4px"},label:"Save",onClick:function(){return J(!1)}}),r.a.createElement(te,{style:{marginLeft:"4px"},label:"Cancel",secondary:!0,onClick:e.onCancel}),r.a.createElement(te,{style:{marginLeft:"4px"},label:"Delete",warning:!0,onClick:function(){v({variables:{personId:e.personId}}).then((function(){e.onCancel()})).catch((function(t){return e.onCancel()}))}})),!e.isAdd&&r.a.createElement(et,{id:G}))}function nt(){var e=Object(j.a)(["\n{\n  Person{\n    personId\n    name\n    jobTitle\n    image\n    twitter\n    \n  }\n}"]);return nt=function(){return e},e}var at=h()(nt());function rt(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(y.b)(at),l=o.loading,u=o.error,s=o.data,m=o.refetch,p=Object(a.useState)([]),f=Object(i.a)(p,2),v=f[0],g=f[1],b=Object(a.useState)(""),E=Object(i.a)(b,2),O=E[0],C=E[1];return Object(a.useEffect)((function(){return s&&s.Person&&g(s.Person),function(){}}),[s]),u?r.a.createElement("p",null,"Error"):l?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{className:"DepartmentsContainer"},r.a.createElement(ce,{title:"People",onAdd:function(){return c("add")}}),r.a.createElement(Z,{placeholder:"Search people",onChange:function(e){if(C(e.target.value),e.target.value.length<1)return g(s.Person);var t=Object.assign([],s.Person);g(t.filter((function(t){return t.name.toLowerCase().indexOf(e.target.value.toLowerCase())>-1})))},value:O}),v&&v.map((function(e,t){return r.a.createElement(re,{key:t,onEdit:function(){return c(e)},onClick:function(){return Object(d.navigate)("person/".concat(e.personId))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"logo cover",style:e.image?{backgroundImage:"url(".concat(e.image,")")}:{border:"1px solid black"}}),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,e.name),r.a.createElement("p",{className:"subText"},e.jobTitle))))})),n&&r.a.createElement(ee,null,r.a.createElement(tt,Object.assign({},n,{isAdd:"add"===n,onCancel:function(){c(!1),m().then((function(e){}))},onAddRelationships:function(e){return c(e)}}))))}var ct=function(){return r.a.createElement("div",{className:"homeContainer"},"404")},ot=(n(34),{"/":function(){return r.a.createElement(ve,null)},"/departments":function(){return r.a.createElement(ke,null)},"/department/:id":function(e){var t=e.id;return r.a.createElement(Ae,{id:t})},"/parties":function(){return r.a.createElement(Fe,null)},"/person/:id":function(e){var t=e.id;return r.a.createElement(Ge,{id:t})},"/people":function(){return r.a.createElement(rt,null)},"/party/:id":function(e){var t=e.id;return r.a.createElement(Te,{id:t})},"/postcode":function(){return r.a.createElement(be,null)},"/members":function(){return r.a.createElement(pe,null)},"/govt":function(){return r.a.createElement(de,null)},"/news":function(){return r.a.createElement(me,null)},"/images":function(){return r.a.createElement(ge,null)},"/posts":function(){return r.a.createElement(qe,null)}}),lt=function(){return Object(d.useRoutes)(ot)||r.a.createElement(ct,null)};function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ut="/api",st={image:"",title:"",policyAreas:[],issues:[],description:"",reactions:!0,voteId:!1,vote:!1,items:[]},mt=function(e){var t=Object(a.useRef)(null).current,n=Object(a.useState)(),c=Object(i.a)(n,2),o=c[0],u=c[1],m=Object(a.useState)(!1),d=Object(i.a)(m,2),p=d[0],f=d[1],v=Object(a.useState)(!1),b=Object(i.a)(v,2),E=b[0],O=b[1],C=Object(a.useState)(st),y=Object(i.a)(C,2),j=y[0],I=y[1],h=Object(a.useState)(!1),N=Object(i.a)(h,2),w=N[0],k=N[1];function S(e){var n=document.elementFromPoint(e.clientX,e.clientY);if(n){var a=n.closest(".droppable");t!=a&&(t=a)&&k(!0)}}function D(){var e=Object.assign({},j);encodeURIComponent(o.item.Title.replace(/[^\w\s]/gi,""));e.title=o.item.Title,e.voteId=o.item.DivisionId,e.vote=o.item,e.type="vote",I(e)}function P(e){var t=Object.assign([],j.items);t.push(e),j.items=t,I(j)}return r.a.createElement(s,{value:{makeQuery:function(e,t){return console.log("funcToCall",e),new Promise((function(n,a){e&&(f(!0),e(t).then((function(){n(),f(!1)})).catch((function(e){a()})))}))},loading:p,setLoading:f,host:ut,showArticle:E,setShowArticle:O,onDragStart:function(e){return u(e),!1},updateArticleKeyValue:function(e,t){var n=Object.assign({},j);n[e]=t,console.log(n),I(n)},resetArticle:function(){Object.assign({},j),I(st)},onDragEnd:function(){var e,t,n=Object.assign({},j);if(w)switch(k(!1),o.type){case"vote":if(!j.type)return D();if(window.confirm("This will overwrite the current article."))return D();case"image":return n.image=o.item.full,void I(n);case"member":return e=o.item,t=o.meta,void se.a.get("".concat(ut,"/memberbyid?id=").concat(e),(function(e){P({type:"member",item:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.value,{},t)})}));default:return P(o)}},currentDroppable:t,onDragMouseDown:function(){document.addEventListener("drag",S)},onDragMouseUp:function(){document.removeEventListener("drag",S)},isDroppable:w,article:j}},r.a.createElement(g,null),r.a.createElement("div",{className:"appContentContainer"},r.a.createElement("div",{className:"routesContainer"},r.a.createElement(lt,null)),r.a.createElement("div",{className:"articleContainer ".concat(E&&"show")},r.a.createElement(Y,null))),p&&r.a.createElement("div",{className:"loading"}))},dt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pt(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ft=n(41),vt=n(13),gt=new ft.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GRAPHQL_URI||"https://eloquent-chandrasekhar-a221ea.netlify.app/.netlify/functions/graphql"});o.a.render(r.a.createElement((function(){return r.a.createElement(vt.a,{client:gt},r.a.createElement(mt,null))}),null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");dt?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pt(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):pt(e)}))}}()}]),[[42,1,2]]]);
//# sourceMappingURL=main.f7894183.chunk.js.map